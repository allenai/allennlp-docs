
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AllenNLP is a ..">
      
      
      
        <link rel="canonical" href="https://allennlp.org/api/modules/transformer/t5/">
      
      <link rel="icon" href="../../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.5">
    
    
      
        <title>t5 - AllenNLP v2.9.1</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../css/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="grey">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#t5layernorm" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="AllenNLP v2.9.1" class="md-header__button md-logo" aria-label="AllenNLP v2.9.1" data-md-component="logo">
      
  <img src="../../../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AllenNLP v2.9.1
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              t5
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="AllenNLP v2.9.1" class="md-nav__button md-logo" aria-label="AllenNLP v2.9.1" data-md-component="logo">
      
  <img src="../../../../img/favicon.ico" alt="logo">

    </a>
    AllenNLP v2.9.1
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/allenai/allennlp" class="md-nav__link">
        Repository
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Versions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Versions" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Versions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/latest/" class="md-nav__link">
        Latest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/stable/" class="md-nav__link">
        Stable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/main/" class="md-nav__link">
        Commit
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="commands" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/build_vocab/" class="md-nav__link">
        build_vocab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/cached_path/" class="md-nav__link">
        cached_path
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/checklist/" class="md-nav__link">
        checklist
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/count_instances/" class="md-nav__link">
        count_instances
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/diff/" class="md-nav__link">
        diff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/evaluate/" class="md-nav__link">
        evaluate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/find_learning_rate/" class="md-nav__link">
        find_learning_rate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/predict/" class="md-nav__link">
        predict
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/print_results/" class="md-nav__link">
        print_results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/push_to_hf/" class="md-nav__link">
        push_to_hf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/subcommand/" class="md-nav__link">
        subcommand
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/test_install/" class="md-nav__link">
        test_install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../commands/train/" class="md-nav__link">
        train
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          common
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="common" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          common
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/cached_transformers/" class="md-nav__link">
        cached_transformers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/checks/" class="md-nav__link">
        checks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/file_utils/" class="md-nav__link">
        file_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/from_params/" class="md-nav__link">
        from_params
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/lazy/" class="md-nav__link">
        lazy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/logging/" class="md-nav__link">
        logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/meta/" class="md-nav__link">
        meta
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/model_card/" class="md-nav__link">
        model_card
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/params/" class="md-nav__link">
        params
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/plugins/" class="md-nav__link">
        plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/push_to_hf/" class="md-nav__link">
        push_to_hf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/registrable/" class="md-nav__link">
        registrable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/sequences/" class="md-nav__link">
        sequences
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/task_card/" class="md-nav__link">
        task_card
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_15" type="checkbox" id="__nav_4_2_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2_15">
          testing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="testing" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_15">
          <span class="md-nav__icon md-icon"></span>
          testing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/testing/checklist_test/" class="md-nav__link">
        checklist_test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/testing/confidence_check_test/" class="md-nav__link">
        confidence_check_test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/testing/distributed_test/" class="md-nav__link">
        distributed_test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/testing/interpret_test/" class="md-nav__link">
        interpret_test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/testing/model_test_case/" class="md-nav__link">
        model_test_case
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/testing/test_case/" class="md-nav__link">
        test_case
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/tqdm/" class="md-nav__link">
        tqdm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../common/util/" class="md-nav__link">
        util
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          confidence_checks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="confidence_checks" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          confidence_checks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../confidence_checks/normalization_bias_verification/" class="md-nav__link">
        normalization_bias_verification
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_2" type="checkbox" id="__nav_4_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3_2">
          task_checklists
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="task_checklists" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          task_checklists
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../confidence_checks/task_checklists/question_answering_suite/" class="md-nav__link">
        question_answering_suite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../confidence_checks/task_checklists/sentiment_analysis_suite/" class="md-nav__link">
        sentiment_analysis_suite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../confidence_checks/task_checklists/task_suite/" class="md-nav__link">
        task_suite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../confidence_checks/task_checklists/textual_entailment_suite/" class="md-nav__link">
        textual_entailment_suite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../confidence_checks/task_checklists/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../confidence_checks/verification_base/" class="md-nav__link">
        verification_base
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="data" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/batch/" class="md-nav__link">
        batch
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_2" type="checkbox" id="__nav_4_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_2">
          data_loaders
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="data_loaders" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_2">
          <span class="md-nav__icon md-icon"></span>
          data_loaders
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/data_loaders/data_collator/" class="md-nav__link">
        data_collator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/data_loaders/data_loader/" class="md-nav__link">
        data_loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/data_loaders/multiprocess_data_loader/" class="md-nav__link">
        multiprocess_data_loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/data_loaders/multitask_data_loader/" class="md-nav__link">
        multitask_data_loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/data_loaders/multitask_epoch_sampler/" class="md-nav__link">
        multitask_epoch_sampler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/data_loaders/multitask_scheduler/" class="md-nav__link">
        multitask_scheduler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/data_loaders/simple_data_loader/" class="md-nav__link">
        simple_data_loader
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_3" type="checkbox" id="__nav_4_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_3">
          dataset_readers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_3">
          <span class="md-nav__icon md-icon"></span>
          dataset_readers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/babi/" class="md-nav__link">
        babi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/conll2003/" class="md-nav__link">
        conll2003
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/dataset_reader/" class="md-nav__link">
        dataset_reader
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_3_4" type="checkbox" id="__nav_4_4_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_3_4">
          dataset_utils
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="dataset_utils" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_4_3_4">
          <span class="md-nav__icon md-icon"></span>
          dataset_utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/dataset_utils/span_utils/" class="md-nav__link">
        span_utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/interleaving_dataset_reader/" class="md-nav__link">
        interleaving_dataset_reader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/multitask/" class="md-nav__link">
        multitask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/sequence_tagging/" class="md-nav__link">
        sequence_tagging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/sharded_dataset_reader/" class="md-nav__link">
        sharded_dataset_reader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/dataset_readers/text_classification_json/" class="md-nav__link">
        text_classification_json
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_4" type="checkbox" id="__nav_4_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_4">
          fields
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="fields" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_4">
          <span class="md-nav__icon md-icon"></span>
          fields
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/adjacency_field/" class="md-nav__link">
        adjacency_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/array_field/" class="md-nav__link">
        array_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/field/" class="md-nav__link">
        field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/flag_field/" class="md-nav__link">
        flag_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/index_field/" class="md-nav__link">
        index_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/label_field/" class="md-nav__link">
        label_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/list_field/" class="md-nav__link">
        list_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/metadata_field/" class="md-nav__link">
        metadata_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/multilabel_field/" class="md-nav__link">
        multilabel_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/namespace_swapping_field/" class="md-nav__link">
        namespace_swapping_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/sequence_field/" class="md-nav__link">
        sequence_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/sequence_label_field/" class="md-nav__link">
        sequence_label_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/span_field/" class="md-nav__link">
        span_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/tensor_field/" class="md-nav__link">
        tensor_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/text_field/" class="md-nav__link">
        text_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/fields/transformer_text_field/" class="md-nav__link">
        transformer_text_field
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/image_loader/" class="md-nav__link">
        image_loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/instance/" class="md-nav__link">
        instance
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_7" type="checkbox" id="__nav_4_4_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_7">
          samplers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="samplers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_7">
          <span class="md-nav__icon md-icon"></span>
          samplers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/samplers/batch_sampler/" class="md-nav__link">
        batch_sampler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/samplers/bucket_batch_sampler/" class="md-nav__link">
        bucket_batch_sampler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/samplers/max_tokens_batch_sampler/" class="md-nav__link">
        max_tokens_batch_sampler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_8" type="checkbox" id="__nav_4_4_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_8">
          token_indexers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="token_indexers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_8">
          <span class="md-nav__icon md-icon"></span>
          token_indexers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/token_indexers/elmo_indexer/" class="md-nav__link">
        elmo_indexer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/token_indexers/pretrained_transformer_indexer/" class="md-nav__link">
        pretrained_transformer_indexer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/token_indexers/pretrained_transformer_mismatched_indexer/" class="md-nav__link">
        pretrained_transformer_mismatched_indexer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/token_indexers/single_id_token_indexer/" class="md-nav__link">
        single_id_token_indexer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/token_indexers/spacy_indexer/" class="md-nav__link">
        spacy_indexer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/token_indexers/token_characters_indexer/" class="md-nav__link">
        token_characters_indexer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/token_indexers/token_indexer/" class="md-nav__link">
        token_indexer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_9" type="checkbox" id="__nav_4_4_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_9">
          tokenizers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="tokenizers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_9">
          <span class="md-nav__icon md-icon"></span>
          tokenizers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/tokenizers/character_tokenizer/" class="md-nav__link">
        character_tokenizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/tokenizers/letters_digits_tokenizer/" class="md-nav__link">
        letters_digits_tokenizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/tokenizers/pretrained_transformer_tokenizer/" class="md-nav__link">
        pretrained_transformer_tokenizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/tokenizers/sentence_splitter/" class="md-nav__link">
        sentence_splitter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/tokenizers/spacy_tokenizer/" class="md-nav__link">
        spacy_tokenizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/tokenizers/token_class/" class="md-nav__link">
        token_class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/tokenizers/tokenizer/" class="md-nav__link">
        tokenizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/tokenizers/whitespace_tokenizer/" class="md-nav__link">
        whitespace_tokenizer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/vocabulary/" class="md-nav__link">
        vocabulary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          evaluation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="evaluation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          evaluation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../evaluation/evaluator/" class="md-nav__link">
        evaluator
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_2" type="checkbox" id="__nav_4_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5_2">
          serializers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="serializers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_5_2">
          <span class="md-nav__icon md-icon"></span>
          serializers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../evaluation/serializers/serializers/" class="md-nav__link">
        serializers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6">
          fairness
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="fairness" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          fairness
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/adversarial_bias_mitigator/" class="md-nav__link">
        adversarial_bias_mitigator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/bias_direction/" class="md-nav__link">
        bias_direction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/bias_direction_wrappers/" class="md-nav__link">
        bias_direction_wrappers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/bias_metrics/" class="md-nav__link">
        bias_metrics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/bias_mitigator_applicator/" class="md-nav__link">
        bias_mitigator_applicator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/bias_mitigator_wrappers/" class="md-nav__link">
        bias_mitigator_wrappers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/bias_mitigators/" class="md-nav__link">
        bias_mitigators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/bias_utils/" class="md-nav__link">
        bias_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fairness/fairness_metrics/" class="md-nav__link">
        fairness_metrics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_7">
          interpret
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="interpret" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          interpret
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7_1" type="checkbox" id="__nav_4_7_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_7_1">
          attackers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="attackers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_7_1">
          <span class="md-nav__icon md-icon"></span>
          attackers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/attackers/attacker/" class="md-nav__link">
        attacker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/attackers/hotflip/" class="md-nav__link">
        hotflip
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/attackers/input_reduction/" class="md-nav__link">
        input_reduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/attackers/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7_2" type="checkbox" id="__nav_4_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_7_2">
          influence_interpreters
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="influence_interpreters" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_7_2">
          <span class="md-nav__icon md-icon"></span>
          influence_interpreters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/influence_interpreters/influence_interpreter/" class="md-nav__link">
        influence_interpreter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/influence_interpreters/simple_influence/" class="md-nav__link">
        simple_influence
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7_3" type="checkbox" id="__nav_4_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_7_3">
          saliency_interpreters
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="saliency_interpreters" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_7_3">
          <span class="md-nav__icon md-icon"></span>
          saliency_interpreters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/saliency_interpreters/integrated_gradient/" class="md-nav__link">
        integrated_gradient
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/saliency_interpreters/saliency_interpreter/" class="md-nav__link">
        saliency_interpreter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/saliency_interpreters/simple_gradient/" class="md-nav__link">
        simple_gradient
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../interpret/saliency_interpreters/smooth_gradient/" class="md-nav__link">
        smooth_gradient
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_8" type="checkbox" id="__nav_4_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_8">
          models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="models" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_8">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/archival/" class="md-nav__link">
        archival
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/basic_classifier/" class="md-nav__link">
        basic_classifier
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_8_3" type="checkbox" id="__nav_4_8_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_8_3">
          heads
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="heads" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_8_3">
          <span class="md-nav__icon md-icon"></span>
          heads
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/heads/classifier_head/" class="md-nav__link">
        classifier_head
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/heads/head/" class="md-nav__link">
        head
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/model/" class="md-nav__link">
        model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/multitask/" class="md-nav__link">
        multitask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/simple_tagger/" class="md-nav__link">
        simple_tagger
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9" type="checkbox" id="__nav_4_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9">
          modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="modules" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_9">
          <span class="md-nav__icon md-icon"></span>
          modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_1" type="checkbox" id="__nav_4_9_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_1">
          attention
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="attention" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_1">
          <span class="md-nav__icon md-icon"></span>
          attention
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../attention/additive_attention/" class="md-nav__link">
        additive_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../attention/attention/" class="md-nav__link">
        attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../attention/bilinear_attention/" class="md-nav__link">
        bilinear_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../attention/cosine_attention/" class="md-nav__link">
        cosine_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../attention/dot_product_attention/" class="md-nav__link">
        dot_product_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../attention/linear_attention/" class="md-nav__link">
        linear_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../attention/scaled_dot_product_attention/" class="md-nav__link">
        scaled_dot_product_attention
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../augmented_lstm/" class="md-nav__link">
        augmented_lstm
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_3" type="checkbox" id="__nav_4_9_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_3">
          backbones
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="backbones" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_3">
          <span class="md-nav__icon md-icon"></span>
          backbones
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../backbones/backbone/" class="md-nav__link">
        backbone
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../backbones/pretrained_transformer_backbone/" class="md-nav__link">
        pretrained_transformer_backbone
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../backbones/vilbert_backbone/" class="md-nav__link">
        vilbert_backbone
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bimpm_matching/" class="md-nav__link">
        bimpm_matching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../conditional_random_field/" class="md-nav__link">
        conditional_random_field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../elmo/" class="md-nav__link">
        elmo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../elmo_lstm/" class="md-nav__link">
        elmo_lstm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../encoder_base/" class="md-nav__link">
        encoder_base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../feedforward/" class="md-nav__link">
        feedforward
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gated_sum/" class="md-nav__link">
        gated_sum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../highway/" class="md-nav__link">
        highway
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../input_variational_dropout/" class="md-nav__link">
        input_variational_dropout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../layer_norm/" class="md-nav__link">
        layer_norm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lstm_cell_with_projection/" class="md-nav__link">
        lstm_cell_with_projection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../masked_layer_norm/" class="md-nav__link">
        masked_layer_norm
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_16" type="checkbox" id="__nav_4_9_16" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_16">
          matrix_attention
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="matrix_attention" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_16">
          <span class="md-nav__icon md-icon"></span>
          matrix_attention
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../matrix_attention/bilinear_matrix_attention/" class="md-nav__link">
        bilinear_matrix_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../matrix_attention/cosine_matrix_attention/" class="md-nav__link">
        cosine_matrix_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../matrix_attention/dot_product_matrix_attention/" class="md-nav__link">
        dot_product_matrix_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../matrix_attention/linear_matrix_attention/" class="md-nav__link">
        linear_matrix_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../matrix_attention/matrix_attention/" class="md-nav__link">
        matrix_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../matrix_attention/scaled_dot_product_matrix_attention/" class="md-nav__link">
        scaled_dot_product_matrix_attention
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../maxout/" class="md-nav__link">
        maxout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../residual_with_layer_dropout/" class="md-nav__link">
        residual_with_layer_dropout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sampled_softmax_loss/" class="md-nav__link">
        sampled_softmax_loss
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../scalar_mix/" class="md-nav__link">
        scalar_mix
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_21" type="checkbox" id="__nav_4_9_21" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_21">
          seq2seq_encoders
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="seq2seq_encoders" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_21">
          <span class="md-nav__icon md-icon"></span>
          seq2seq_encoders
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2seq_encoders/compose_encoder/" class="md-nav__link">
        compose_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2seq_encoders/feedforward_encoder/" class="md-nav__link">
        feedforward_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2seq_encoders/gated_cnn_encoder/" class="md-nav__link">
        gated_cnn_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2seq_encoders/pass_through_encoder/" class="md-nav__link">
        pass_through_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2seq_encoders/pytorch_seq2seq_wrapper/" class="md-nav__link">
        pytorch_seq2seq_wrapper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2seq_encoders/pytorch_transformer_wrapper/" class="md-nav__link">
        pytorch_transformer_wrapper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2seq_encoders/seq2seq_encoder/" class="md-nav__link">
        seq2seq_encoder
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_22" type="checkbox" id="__nav_4_9_22" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_22">
          seq2vec_encoders
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="seq2vec_encoders" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_22">
          <span class="md-nav__icon md-icon"></span>
          seq2vec_encoders
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2vec_encoders/bert_pooler/" class="md-nav__link">
        bert_pooler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2vec_encoders/boe_encoder/" class="md-nav__link">
        boe_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2vec_encoders/cls_pooler/" class="md-nav__link">
        cls_pooler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2vec_encoders/cnn_encoder/" class="md-nav__link">
        cnn_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2vec_encoders/cnn_highway_encoder/" class="md-nav__link">
        cnn_highway_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2vec_encoders/pytorch_seq2vec_wrapper/" class="md-nav__link">
        pytorch_seq2vec_wrapper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seq2vec_encoders/seq2vec_encoder/" class="md-nav__link">
        seq2vec_encoder
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../softmax_loss/" class="md-nav__link">
        softmax_loss
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_24" type="checkbox" id="__nav_4_9_24" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_24">
          span_extractors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="span_extractors" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_24">
          <span class="md-nav__icon md-icon"></span>
          span_extractors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../span_extractors/bidirectional_endpoint_span_extractor/" class="md-nav__link">
        bidirectional_endpoint_span_extractor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../span_extractors/endpoint_span_extractor/" class="md-nav__link">
        endpoint_span_extractor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../span_extractors/max_pooling_span_extractor/" class="md-nav__link">
        max_pooling_span_extractor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../span_extractors/self_attentive_span_extractor/" class="md-nav__link">
        self_attentive_span_extractor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../span_extractors/span_extractor/" class="md-nav__link">
        span_extractor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../span_extractors/span_extractor_with_span_width_embedding/" class="md-nav__link">
        span_extractor_with_span_width_embedding
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stacked_alternating_lstm/" class="md-nav__link">
        stacked_alternating_lstm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stacked_bidirectional_lstm/" class="md-nav__link">
        stacked_bidirectional_lstm
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_27" type="checkbox" id="__nav_4_9_27" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_27">
          text_field_embedders
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="text_field_embedders" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_27">
          <span class="md-nav__icon md-icon"></span>
          text_field_embedders
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../text_field_embedders/basic_text_field_embedder/" class="md-nav__link">
        basic_text_field_embedder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../text_field_embedders/text_field_embedder/" class="md-nav__link">
        text_field_embedder
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../time_distributed/" class="md-nav__link">
        time_distributed
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_29" type="checkbox" id="__nav_4_9_29" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_29">
          token_embedders
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="token_embedders" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_29">
          <span class="md-nav__icon md-icon"></span>
          token_embedders
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/bag_of_word_counts_token_embedder/" class="md-nav__link">
        bag_of_word_counts_token_embedder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/elmo_token_embedder/" class="md-nav__link">
        elmo_token_embedder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/embedding/" class="md-nav__link">
        embedding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/empty_embedder/" class="md-nav__link">
        empty_embedder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/pass_through_token_embedder/" class="md-nav__link">
        pass_through_token_embedder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/pretrained_transformer_embedder/" class="md-nav__link">
        pretrained_transformer_embedder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/pretrained_transformer_mismatched_embedder/" class="md-nav__link">
        pretrained_transformer_mismatched_embedder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/token_characters_encoder/" class="md-nav__link">
        token_characters_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../token_embedders/token_embedder/" class="md-nav__link">
        token_embedder
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_30" type="checkbox" id="__nav_4_9_30" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_30">
          transformer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="transformer" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_30">
          <span class="md-nav__icon md-icon"></span>
          transformer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../activation_layer/" class="md-nav__link">
        activation_layer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../attention_module/" class="md-nav__link">
        attention_module
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bimodal_attention/" class="md-nav__link">
        bimodal_attention
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bimodal_connection_layer/" class="md-nav__link">
        bimodal_connection_layer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bimodal_encoder/" class="md-nav__link">
        bimodal_encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../layer_norm/" class="md-nav__link">
        layer_norm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../output_layer/" class="md-nav__link">
        output_layer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../positional_encoding/" class="md-nav__link">
        positional_encoding
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          t5
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        t5
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#t5layernorm" class="md-nav__link">
    T5LayerNorm
  </a>
  
    <nav class="md-nav" aria-label="T5LayerNorm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5feedforwardprojection" class="md-nav__link">
    T5FeedForwardProjection
  </a>
  
    <nav class="md-nav" aria-label="T5FeedForwardProjection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_1" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5densereludense" class="md-nav__link">
    T5DenseReluDense
  </a>
  
    <nav class="md-nav" aria-label="T5DenseReluDense">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_2" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5densegatedgeludense" class="md-nav__link">
    T5DenseGatedGeluDense
  </a>
  
    <nav class="md-nav" aria-label="T5DenseGatedGeluDense">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_3" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layerff" class="md-nav__link">
    T5LayerFF
  </a>
  
    <nav class="md-nav" aria-label="T5LayerFF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_4" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layerselfattentionoutput" class="md-nav__link">
    T5LayerSelfAttentionOutput
  </a>
  
    <nav class="md-nav" aria-label="T5LayerSelfAttentionOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_states" class="md-nav__link">
    hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_key_value_state" class="md-nav__link">
    attn_key_value_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_position_bias" class="md-nav__link">
    attn_position_bias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_weights" class="md-nav__link">
    attn_weights
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layerselfattention" class="md-nav__link">
    T5LayerSelfAttention
  </a>
  
    <nav class="md-nav" aria-label="T5LayerSelfAttention">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_size" class="md-nav__link">
    hidden_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forward_5" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layercrossattentionoutput" class="md-nav__link">
    T5LayerCrossAttentionOutput
  </a>
  
    <nav class="md-nav" aria-label="T5LayerCrossAttentionOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_states_1" class="md-nav__link">
    hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_key_value_state_1" class="md-nav__link">
    attn_key_value_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_position_bias_1" class="md-nav__link">
    attn_position_bias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_weights_1" class="md-nav__link">
    attn_weights
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layercrossattention" class="md-nav__link">
    T5LayerCrossAttention
  </a>
  
    <nav class="md-nav" aria-label="T5LayerCrossAttention">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_6" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyvaluestates" class="md-nav__link">
    KeyValueStates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5blockoutput" class="md-nav__link">
    T5BlockOutput
  </a>
  
    <nav class="md-nav" aria-label="T5BlockOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_states_2" class="md-nav__link">
    hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#present_key_value_states" class="md-nav__link">
    present_key_value_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self_attn_weights" class="md-nav__link">
    self_attn_weights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self_attn_position_bias" class="md-nav__link">
    self_attn_position_bias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross_attn_weights" class="md-nav__link">
    cross_attn_weights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross_attn_position_bias" class="md-nav__link">
    cross_attn_position_bias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5block" class="md-nav__link">
    T5Block
  </a>
  
    <nav class="md-nav" aria-label="T5Block">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_size_1" class="md-nav__link">
    hidden_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forward_7" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5stackoutput" class="md-nav__link">
    T5StackOutput
  </a>
  
    <nav class="md-nav" aria-label="T5StackOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#last_hidden_state" class="md-nav__link">
    last_hidden_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#past_key_values" class="md-nav__link">
    past_key_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all_hidden_states" class="md-nav__link">
    all_hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attentions" class="md-nav__link">
    attentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross_attentions" class="md-nav__link">
    cross_attentions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5stack" class="md-nav__link">
    T5Stack
  </a>
  
    <nav class="md-nav" aria-label="T5Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#num_blocks" class="md-nav__link">
    num_blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hidden_size_2" class="md-nav__link">
    hidden_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_head_mask" class="md-nav__link">
    get_head_mask
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resize_token_embeddings" class="md-nav__link">
    resize_token_embeddings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forward_8" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5encoderstack" class="md-nav__link">
    T5EncoderStack
  </a>
  
    <nav class="md-nav" aria-label="T5EncoderStack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic_encoder" class="md-nav__link">
    basic_encoder
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5decoderstack" class="md-nav__link">
    T5DecoderStack
  </a>
  
    <nav class="md-nav" aria-label="T5DecoderStack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic_decoder" class="md-nav__link">
    basic_decoder
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5output" class="md-nav__link">
    T5Output
  </a>
  
    <nav class="md-nav" aria-label="T5Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encoder_last_hidden_state" class="md-nav__link">
    encoder_last_hidden_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encoder_all_hidden_states" class="md-nav__link">
    encoder_all_hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decoder_last_hidden_state" class="md-nav__link">
    decoder_last_hidden_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decoder_all_hidden_states" class="md-nav__link">
    decoder_all_hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encoder_attentions" class="md-nav__link">
    encoder_attentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decoder_attentions" class="md-nav__link">
    decoder_attentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross_attentions_1" class="md-nav__link">
    cross_attentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loss" class="md-nav__link">
    loss
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logits" class="md-nav__link">
    logits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predictions" class="md-nav__link">
    predictions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predicted_log_probs" class="md-nav__link">
    predicted_log_probs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5" class="md-nav__link">
    T5
  </a>
  
    <nav class="md-nav" aria-label="T5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_implementation" class="md-nav__link">
    default_implementation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resize_token_embeddings_1" class="md-nav__link">
    resize_token_embeddings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forward_9" class="md-nav__link">
    forward
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#take_search_step" class="md-nav__link">
    take_search_step
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transformer_embeddings/" class="md-nav__link">
        transformer_embeddings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transformer_layer/" class="md-nav__link">
        transformer_layer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transformer_module/" class="md-nav__link">
        transformer_module
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transformer_pooler/" class="md-nav__link">
        transformer_pooler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transformer_stack/" class="md-nav__link">
        transformer_stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/" class="md-nav__link">
        util
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../util/" class="md-nav__link">
        util
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9_32" type="checkbox" id="__nav_4_9_32" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9_32">
          vision
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="vision" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_9_32">
          <span class="md-nav__icon md-icon"></span>
          vision
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vision/grid_embedder/" class="md-nav__link">
        grid_embedder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vision/image2image/" class="md-nav__link">
        image2image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vision/region_detector/" class="md-nav__link">
        region_detector
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_10" type="checkbox" id="__nav_4_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_10">
          nn
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="nn" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_10">
          <span class="md-nav__icon md-icon"></span>
          nn
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/activations/" class="md-nav__link">
        activations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/beam_search/" class="md-nav__link">
        beam_search
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_10_3" type="checkbox" id="__nav_4_10_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_10_3">
          checkpoint
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="checkpoint" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_10_3">
          <span class="md-nav__icon md-icon"></span>
          checkpoint
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/checkpoint/checkpoint_wrapper/" class="md-nav__link">
        checkpoint_wrapper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/checkpoint/fairscale_checkpoint_wrapper/" class="md-nav__link">
        fairscale_checkpoint_wrapper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/chu_liu_edmonds/" class="md-nav__link">
        chu_liu_edmonds
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/initializers/" class="md-nav__link">
        initializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/module/" class="md-nav__link">
        module
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_10_7" type="checkbox" id="__nav_4_10_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_10_7">
          parallel
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="parallel" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_10_7">
          <span class="md-nav__icon md-icon"></span>
          parallel
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/parallel/ddp_accelerator/" class="md-nav__link">
        ddp_accelerator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/parallel/fairscale_fsdp_accelerator/" class="md-nav__link">
        fairscale_fsdp_accelerator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/parallel/sharded_module_mixin/" class="md-nav__link">
        sharded_module_mixin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_10_8" type="checkbox" id="__nav_4_10_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_10_8">
          regularizers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="regularizers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_10_8">
          <span class="md-nav__icon md-icon"></span>
          regularizers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/regularizers/regularizer/" class="md-nav__link">
        regularizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/regularizers/regularizer_applicator/" class="md-nav__link">
        regularizer_applicator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/regularizers/regularizers/" class="md-nav__link">
        regularizers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nn/util/" class="md-nav__link">
        util
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_11" type="checkbox" id="__nav_4_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_11">
          predictors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="predictors" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_11">
          <span class="md-nav__icon md-icon"></span>
          predictors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../predictors/multitask/" class="md-nav__link">
        multitask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../predictors/predictor/" class="md-nav__link">
        predictor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../predictors/sentence_tagger/" class="md-nav__link">
        sentence_tagger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../predictors/text_classifier/" class="md-nav__link">
        text_classifier
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_12" type="checkbox" id="__nav_4_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_12">
          tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="tools" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_12">
          <span class="md-nav__icon md-icon"></span>
          tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/archive_surgery/" class="md-nav__link">
        archive_surgery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/create_elmo_embeddings_from_vocab/" class="md-nav__link">
        create_elmo_embeddings_from_vocab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/inspect_cache/" class="md-nav__link">
        inspect_cache
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_13" type="checkbox" id="__nav_4_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_13">
          training
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="training" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_13">
          <span class="md-nav__icon md-icon"></span>
          training
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_13_1" type="checkbox" id="__nav_4_13_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_13_1">
          callbacks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="callbacks" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_13_1">
          <span class="md-nav__icon md-icon"></span>
          callbacks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/backward/" class="md-nav__link">
        backward
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/callback/" class="md-nav__link">
        callback
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/confidence_checks/" class="md-nav__link">
        confidence_checks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/console_logger/" class="md-nav__link">
        console_logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/log_writer/" class="md-nav__link">
        log_writer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/should_validate/" class="md-nav__link">
        should_validate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/tensorboard/" class="md-nav__link">
        tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/track_epoch/" class="md-nav__link">
        track_epoch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/callbacks/wandb/" class="md-nav__link">
        wandb
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/checkpointer/" class="md-nav__link">
        checkpointer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/gradient_descent_trainer/" class="md-nav__link">
        gradient_descent_trainer
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_13_4" type="checkbox" id="__nav_4_13_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_13_4">
          learning_rate_schedulers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="learning_rate_schedulers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_13_4">
          <span class="md-nav__icon md-icon"></span>
          learning_rate_schedulers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/learning_rate_schedulers/combined/" class="md-nav__link">
        combined
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/learning_rate_schedulers/cosine/" class="md-nav__link">
        cosine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/learning_rate_schedulers/learning_rate_scheduler/" class="md-nav__link">
        learning_rate_scheduler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/learning_rate_schedulers/linear_with_warmup/" class="md-nav__link">
        linear_with_warmup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/learning_rate_schedulers/noam/" class="md-nav__link">
        noam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/learning_rate_schedulers/polynomial_decay/" class="md-nav__link">
        polynomial_decay
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/learning_rate_schedulers/pytorch_lr_schedulers/" class="md-nav__link">
        pytorch_lr_schedulers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/learning_rate_schedulers/slanted_triangular/" class="md-nav__link">
        slanted_triangular
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metric_tracker/" class="md-nav__link">
        metric_tracker
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_13_6" type="checkbox" id="__nav_4_13_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_13_6">
          metrics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="metrics" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_13_6">
          <span class="md-nav__icon md-icon"></span>
          metrics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/attachment_scores/" class="md-nav__link">
        attachment_scores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/auc/" class="md-nav__link">
        auc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/average/" class="md-nav__link">
        average
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/bleu/" class="md-nav__link">
        bleu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/boolean_accuracy/" class="md-nav__link">
        boolean_accuracy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/categorical_accuracy/" class="md-nav__link">
        categorical_accuracy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/covariance/" class="md-nav__link">
        covariance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/entropy/" class="md-nav__link">
        entropy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/evalb_bracketing_scorer/" class="md-nav__link">
        evalb_bracketing_scorer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/f1_measure/" class="md-nav__link">
        f1_measure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/fbeta_measure/" class="md-nav__link">
        fbeta_measure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/fbeta_multi_label_measure/" class="md-nav__link">
        fbeta_multi_label_measure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/mean_absolute_error/" class="md-nav__link">
        mean_absolute_error
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/metric/" class="md-nav__link">
        metric
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/pearson_correlation/" class="md-nav__link">
        pearson_correlation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/perplexity/" class="md-nav__link">
        perplexity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/rouge/" class="md-nav__link">
        rouge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/sequence_accuracy/" class="md-nav__link">
        sequence_accuracy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/span_based_f1_measure/" class="md-nav__link">
        span_based_f1_measure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/spearman_correlation/" class="md-nav__link">
        spearman_correlation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/metrics/unigram_recall/" class="md-nav__link">
        unigram_recall
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_13_7" type="checkbox" id="__nav_4_13_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_13_7">
          momentum_schedulers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="momentum_schedulers" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_13_7">
          <span class="md-nav__icon md-icon"></span>
          momentum_schedulers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/momentum_schedulers/inverted_triangular/" class="md-nav__link">
        inverted_triangular
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/momentum_schedulers/momentum_scheduler/" class="md-nav__link">
        momentum_scheduler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/moving_average/" class="md-nav__link">
        moving_average
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/no_op_trainer/" class="md-nav__link">
        no_op_trainer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/optimizers/" class="md-nav__link">
        optimizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/scheduler/" class="md-nav__link">
        scheduler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/trainer/" class="md-nav__link">
        trainer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training/util/" class="md-nav__link">
        util
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../CONTRIBUTING/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../CHANGELOG/" class="md-nav__link">
        CHANGELOG
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://raw.githubusercontent.com/allenai/allennlp/main/LICENSE" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#t5layernorm" class="md-nav__link">
    T5LayerNorm
  </a>
  
    <nav class="md-nav" aria-label="T5LayerNorm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5feedforwardprojection" class="md-nav__link">
    T5FeedForwardProjection
  </a>
  
    <nav class="md-nav" aria-label="T5FeedForwardProjection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_1" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5densereludense" class="md-nav__link">
    T5DenseReluDense
  </a>
  
    <nav class="md-nav" aria-label="T5DenseReluDense">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_2" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5densegatedgeludense" class="md-nav__link">
    T5DenseGatedGeluDense
  </a>
  
    <nav class="md-nav" aria-label="T5DenseGatedGeluDense">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_3" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layerff" class="md-nav__link">
    T5LayerFF
  </a>
  
    <nav class="md-nav" aria-label="T5LayerFF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_4" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layerselfattentionoutput" class="md-nav__link">
    T5LayerSelfAttentionOutput
  </a>
  
    <nav class="md-nav" aria-label="T5LayerSelfAttentionOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_states" class="md-nav__link">
    hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_key_value_state" class="md-nav__link">
    attn_key_value_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_position_bias" class="md-nav__link">
    attn_position_bias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_weights" class="md-nav__link">
    attn_weights
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layerselfattention" class="md-nav__link">
    T5LayerSelfAttention
  </a>
  
    <nav class="md-nav" aria-label="T5LayerSelfAttention">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_size" class="md-nav__link">
    hidden_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forward_5" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layercrossattentionoutput" class="md-nav__link">
    T5LayerCrossAttentionOutput
  </a>
  
    <nav class="md-nav" aria-label="T5LayerCrossAttentionOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_states_1" class="md-nav__link">
    hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_key_value_state_1" class="md-nav__link">
    attn_key_value_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_position_bias_1" class="md-nav__link">
    attn_position_bias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attn_weights_1" class="md-nav__link">
    attn_weights
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5layercrossattention" class="md-nav__link">
    T5LayerCrossAttention
  </a>
  
    <nav class="md-nav" aria-label="T5LayerCrossAttention">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forward_6" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyvaluestates" class="md-nav__link">
    KeyValueStates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5blockoutput" class="md-nav__link">
    T5BlockOutput
  </a>
  
    <nav class="md-nav" aria-label="T5BlockOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_states_2" class="md-nav__link">
    hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#present_key_value_states" class="md-nav__link">
    present_key_value_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self_attn_weights" class="md-nav__link">
    self_attn_weights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self_attn_position_bias" class="md-nav__link">
    self_attn_position_bias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross_attn_weights" class="md-nav__link">
    cross_attn_weights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross_attn_position_bias" class="md-nav__link">
    cross_attn_position_bias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5block" class="md-nav__link">
    T5Block
  </a>
  
    <nav class="md-nav" aria-label="T5Block">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden_size_1" class="md-nav__link">
    hidden_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forward_7" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5stackoutput" class="md-nav__link">
    T5StackOutput
  </a>
  
    <nav class="md-nav" aria-label="T5StackOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#last_hidden_state" class="md-nav__link">
    last_hidden_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#past_key_values" class="md-nav__link">
    past_key_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all_hidden_states" class="md-nav__link">
    all_hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attentions" class="md-nav__link">
    attentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross_attentions" class="md-nav__link">
    cross_attentions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5stack" class="md-nav__link">
    T5Stack
  </a>
  
    <nav class="md-nav" aria-label="T5Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#num_blocks" class="md-nav__link">
    num_blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hidden_size_2" class="md-nav__link">
    hidden_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_head_mask" class="md-nav__link">
    get_head_mask
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resize_token_embeddings" class="md-nav__link">
    resize_token_embeddings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forward_8" class="md-nav__link">
    forward
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5encoderstack" class="md-nav__link">
    T5EncoderStack
  </a>
  
    <nav class="md-nav" aria-label="T5EncoderStack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic_encoder" class="md-nav__link">
    basic_encoder
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5decoderstack" class="md-nav__link">
    T5DecoderStack
  </a>
  
    <nav class="md-nav" aria-label="T5DecoderStack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic_decoder" class="md-nav__link">
    basic_decoder
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5output" class="md-nav__link">
    T5Output
  </a>
  
    <nav class="md-nav" aria-label="T5Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encoder_last_hidden_state" class="md-nav__link">
    encoder_last_hidden_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encoder_all_hidden_states" class="md-nav__link">
    encoder_all_hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decoder_last_hidden_state" class="md-nav__link">
    decoder_last_hidden_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decoder_all_hidden_states" class="md-nav__link">
    decoder_all_hidden_states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encoder_attentions" class="md-nav__link">
    encoder_attentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decoder_attentions" class="md-nav__link">
    decoder_attentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross_attentions_1" class="md-nav__link">
    cross_attentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loss" class="md-nav__link">
    loss
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logits" class="md-nav__link">
    logits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predictions" class="md-nav__link">
    predictions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predicted_log_probs" class="md-nav__link">
    predicted_log_probs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t5" class="md-nav__link">
    T5
  </a>
  
    <nav class="md-nav" aria-label="T5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_implementation" class="md-nav__link">
    default_implementation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resize_token_embeddings_1" class="md-nav__link">
    resize_token_embeddings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forward_9" class="md-nav__link">
    forward
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#take_search_step" class="md-nav__link">
    take_search_step
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>t5</h1>

<div>
 <p class="alignleft"><i>allennlp</i><i>.modules</i><i>.transformer</i><strong>.t5</strong></p>
 <p class="alignright"><a class="sourcelink" href="https://github.com/allenai/allennlp/blob/v2.9.1/allennlp/modules/transformer/t5.py">[SOURCE]</a></p>
</div>
<div style="clear: both;"></div>

<hr />
<p>An implementation of <a href="https://api.semanticscholar.org/CorpusID:204838007">T5</a>, adapted from <a href="https://github.com/huggingface/transformers/blob/4c32f9f26e6a84f0d9843fec8757e6ce640bb44e/src/transformers/models/t5/modeling_t5.py">HuggingFace</a>.</p>
<p><a id="allennlp.modules.transformer.t5.T5LayerNorm"></a></p>
<h2 id="t5layernorm">T5LayerNorm<a class="headerlink" href="#t5layernorm" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerNorm</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">512</span><span class="p">,</span> <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1e-6</span><span class="p">)</span>
</code></pre></div>
<p>T5-style layer norm does not have bias and does not subtract the mean.</p>
<p><a id="allennlp.modules.transformer.t5.T5LayerNorm.forward"></a></p>
<h3 id="forward">forward<a class="headerlink" href="#forward" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerNorm</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_states</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FloatT</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5FeedForwardProjection"></a></p>
<h2 id="t5feedforwardprojection">T5FeedForwardProjection<a class="headerlink" href="#t5feedforwardprojection" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5FeedForwardProjection</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">Registrable</span><span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5FeedForwardProjection.forward"></a></p>
<h3 id="forward_1">forward<a class="headerlink" href="#forward_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5FeedForwardProjection</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">Registrable</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_states</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FloatT</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5DenseReluDense"></a></p>
<h2 id="t5densereludense">T5DenseReluDense<a class="headerlink" href="#t5densereludense" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@T5FeedForwardProjection</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;relu&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">T5DenseReluDense</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">hidden_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">512</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">ff_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5DenseReluDense.forward"></a></p>
<h3 id="forward_2">forward<a class="headerlink" href="#forward_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5DenseReluDense</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_states</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FloatT</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5DenseGatedGeluDense"></a></p>
<h2 id="t5densegatedgeludense">T5DenseGatedGeluDense<a class="headerlink" href="#t5densegatedgeludense" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nd">@T5FeedForwardProjection</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;gated-gelu&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">T5DenseGatedGeluDense</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">hidden_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">512</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">ff_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2048</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5DenseGatedGeluDense.forward"></a></p>
<h3 id="forward_3">forward<a class="headerlink" href="#forward_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5DenseGatedGeluDense</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_states</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FloatT</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerFF"></a></p>
<h2 id="t5layerff">T5LayerFF<a class="headerlink" href="#t5layerff" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerFF</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">ff_proj</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5FeedForwardProjection</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">layer_norm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerNorm</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerFF.forward"></a></p>
<h3 id="forward_4">forward<a class="headerlink" href="#forward_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerFF</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_states</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FloatT</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerSelfAttentionOutput"></a></p>
<h2 id="t5layerselfattentionoutput">T5LayerSelfAttentionOutput<a class="headerlink" href="#t5layerselfattentionoutput" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerSelfAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerSelfAttentionOutput.hidden_states"></a></p>
<h3 id="hidden_states">hidden_states<a class="headerlink" href="#hidden_states" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerSelfAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">hidden_states</span><span class="p">:</span> <span class="n">FloatT</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerSelfAttentionOutput.attn_key_value_state"></a></p>
<h3 id="attn_key_value_state">attn_key_value_state<a class="headerlink" href="#attn_key_value_state" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerSelfAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">attn_key_value_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">FloatT</span><span class="p">,</span> <span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerSelfAttentionOutput.attn_position_bias"></a></p>
<h3 id="attn_position_bias">attn_position_bias<a class="headerlink" href="#attn_position_bias" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerSelfAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">attn_position_bias</span><span class="p">:</span> <span class="n">FloatT</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerSelfAttentionOutput.attn_weights"></a></p>
<h3 id="attn_weights">attn_weights<a class="headerlink" href="#attn_weights" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerSelfAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">attn_weights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerSelfAttention"></a></p>
<h2 id="t5layerselfattention">T5LayerSelfAttention<a class="headerlink" href="#t5layerselfattention" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerSelfAttention</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">self_attention</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5Attention</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">layer_norm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerNorm</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">has_relative_attention_bias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerSelfAttention.hidden_size"></a></p>
<h3 id="hidden_size">hidden_size<a class="headerlink" href="#hidden_size" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerSelfAttention</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="nd">@property</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">hidden_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerSelfAttention.forward"></a></p>
<h3 id="forward_5">forward<a class="headerlink" href="#forward_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerSelfAttention</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">hidden_states</span><span class="p">:</span> <span class="n">FloatT</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">attention_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">position_bias</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">layer_head_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">past_key_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">use_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">output_attentions</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T5LayerSelfAttentionOutput</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerCrossAttentionOutput"></a></p>
<h2 id="t5layercrossattentionoutput">T5LayerCrossAttentionOutput<a class="headerlink" href="#t5layercrossattentionoutput" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerCrossAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerCrossAttentionOutput.hidden_states"></a></p>
<h3 id="hidden_states_1">hidden_states<a class="headerlink" href="#hidden_states_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerCrossAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">hidden_states</span><span class="p">:</span> <span class="n">FloatT</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerCrossAttentionOutput.attn_key_value_state"></a></p>
<h3 id="attn_key_value_state_1">attn_key_value_state<a class="headerlink" href="#attn_key_value_state_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerCrossAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">attn_key_value_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">FloatT</span><span class="p">,</span> <span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerCrossAttentionOutput.attn_position_bias"></a></p>
<h3 id="attn_position_bias_1">attn_position_bias<a class="headerlink" href="#attn_position_bias_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerCrossAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">attn_position_bias</span><span class="p">:</span> <span class="n">FloatT</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerCrossAttentionOutput.attn_weights"></a></p>
<h3 id="attn_weights_1">attn_weights<a class="headerlink" href="#attn_weights_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerCrossAttentionOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">attn_weights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerCrossAttention"></a></p>
<h2 id="t5layercrossattention">T5LayerCrossAttention<a class="headerlink" href="#t5layercrossattention" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerCrossAttention</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">enc_dec_attention</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5Attention</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">layer_norm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerNorm</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5LayerCrossAttention.forward"></a></p>
<h3 id="forward_6">forward<a class="headerlink" href="#forward_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5LayerCrossAttention</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">hidden_states</span><span class="p">:</span> <span class="n">FloatT</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">key_value_states</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">],</span>
 <span class="o">|</span>     <span class="n">attention_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">position_bias</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">layer_head_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">past_key_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">use_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">query_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">output_attentions</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T5LayerCrossAttentionOutput</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.KeyValueStates"></a></p>
<h2 id="keyvaluestates">KeyValueStates<a class="headerlink" href="#keyvaluestates" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">KeyValueStates</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span>
    <span class="n">Tuple</span><span class="p">[</span><span class="n">FloatT</span><span class="p">,</span> <span class="n">FloatT</span><span class="p">],</span>  <span class="c1"># without cross attention</span>
    <span class="n">Tuple</span><span class="p">[</span><span class="n">FloatT</span><span class="p">,</span> <span class="n">FloatT</span><span class="p">,</span> <span class="n">FloatT</span><span class="p">,</span> <span class="n">Float</span> <span class="o">...</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5BlockOutput"></a></p>
<h2 id="t5blockoutput">T5BlockOutput<a class="headerlink" href="#t5blockoutput" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5BlockOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5BlockOutput.hidden_states"></a></p>
<h3 id="hidden_states_2">hidden_states<a class="headerlink" href="#hidden_states_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5BlockOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">hidden_states</span><span class="p">:</span> <span class="n">FloatT</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5BlockOutput.present_key_value_states"></a></p>
<h3 id="present_key_value_states">present_key_value_states<a class="headerlink" href="#present_key_value_states" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5BlockOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">present_key_value_states</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">KeyValueStates</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5BlockOutput.self_attn_weights"></a></p>
<h3 id="self_attn_weights">self_attn_weights<a class="headerlink" href="#self_attn_weights" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5BlockOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">self_attn_weights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5BlockOutput.self_attn_position_bias"></a></p>
<h3 id="self_attn_position_bias">self_attn_position_bias<a class="headerlink" href="#self_attn_position_bias" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5BlockOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">self_attn_position_bias</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5BlockOutput.cross_attn_weights"></a></p>
<h3 id="cross_attn_weights">cross_attn_weights<a class="headerlink" href="#cross_attn_weights" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5BlockOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">cross_attn_weights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5BlockOutput.cross_attn_position_bias"></a></p>
<h3 id="cross_attn_position_bias">cross_attn_position_bias<a class="headerlink" href="#cross_attn_position_bias" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5BlockOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">cross_attn_position_bias</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Block"></a></p>
<h2 id="t5block">T5Block<a class="headerlink" href="#t5block" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Block</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">attention</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerSelfAttention</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">cross_attention</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerCrossAttention</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">ff</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerFF</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Block.hidden_size"></a></p>
<h3 id="hidden_size_1">hidden_size<a class="headerlink" href="#hidden_size_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Block</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="nd">@property</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">hidden_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Block.forward"></a></p>
<h3 id="forward_7">forward<a class="headerlink" href="#forward_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Block</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">hidden_states</span><span class="p">:</span> <span class="n">FloatT</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">attention_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">position_bias</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">encoder_hidden_states</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">encoder_attention_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">encoder_decoder_position_bias</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">layer_head_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">encoder_layer_head_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">past_key_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">KeyValueStates</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">use_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">output_attentions</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T5BlockOutput</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5StackOutput"></a></p>
<h2 id="t5stackoutput">T5StackOutput<a class="headerlink" href="#t5stackoutput" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5StackOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5StackOutput.last_hidden_state"></a></p>
<h3 id="last_hidden_state">last_hidden_state<a class="headerlink" href="#last_hidden_state" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5StackOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">last_hidden_state</span><span class="p">:</span> <span class="n">FloatT</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5StackOutput.past_key_values"></a></p>
<h3 id="past_key_values">past_key_values<a class="headerlink" href="#past_key_values" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5StackOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">past_key_values</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">KeyValueStates</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5StackOutput.all_hidden_states"></a></p>
<h3 id="all_hidden_states">all_hidden_states<a class="headerlink" href="#all_hidden_states" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5StackOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">all_hidden_states</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5StackOutput.attentions"></a></p>
<h3 id="attentions">attentions<a class="headerlink" href="#attentions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5StackOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">attentions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5StackOutput.cross_attentions"></a></p>
<h3 id="cross_attentions">cross_attentions<a class="headerlink" href="#cross_attentions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5StackOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">cross_attentions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Stack"></a></p>
<h2 id="t5stack">T5Stack<a class="headerlink" href="#t5stack" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Stack</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">token_embeddings</span><span class="p">:</span> <span class="n">nn</span><span class="o">.</span><span class="n">Embedding</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">blocks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">T5Block</span><span class="p">],</span>
 <span class="o">|</span>     <span class="n">final_layer_norm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerNorm</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Stack.num_blocks"></a></p>
<h3 id="num_blocks">num_blocks<a class="headerlink" href="#num_blocks" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Stack</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="nd">@property</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">num_blocks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Stack.hidden_size"></a></p>
<h3 id="hidden_size_2">hidden_size<a class="headerlink" href="#hidden_size_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Stack</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="nd">@property</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">hidden_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Stack.get_head_mask"></a></p>
<h3 id="get_head_mask">get_head_mask<a class="headerlink" href="#get_head_mask" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Stack</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="nd">@staticmethod</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">get_head_mask</span><span class="p">(</span>
 <span class="o">|</span>     <span class="n">head_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">],</span>
 <span class="o">|</span>     <span class="n">num_hidden_layers</span><span class="p">:</span> <span class="nb">int</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BoolT</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Stack.resize_token_embeddings"></a></p>
<h3 id="resize_token_embeddings">resize_token_embeddings<a class="headerlink" href="#resize_token_embeddings" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Stack</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">resize_token_embeddings</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">new_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
 <span class="o">|</span>     <span class="o">*</span><span class="p">,</span> <span class="n">init_fn</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">normal_</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Stack.forward"></a></p>
<h3 id="forward_8">forward<a class="headerlink" href="#forward_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Stack</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">input_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">IntTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">attention_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">encoder_hidden_states</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">encoder_attention_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">inputs_embeds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">head_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">encoder_head_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">BoolTensor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">past_key_values</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">KeyValueStates</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">use_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">output_attentions</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">output_all_hidden_states</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T5StackOutput</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5EncoderStack"></a></p>
<h2 id="t5encoderstack">T5EncoderStack<a class="headerlink" href="#t5encoderstack" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5EncoderStack</span><span class="p">(</span><span class="n">T5Stack</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">token_embeddings</span><span class="p">:</span> <span class="n">nn</span><span class="o">.</span><span class="n">Embedding</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">blocks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">T5Block</span><span class="p">],</span>
 <span class="o">|</span>     <span class="n">final_layer_norm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerNorm</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5EncoderStack.basic_encoder"></a></p>
<h3 id="basic_encoder">basic_encoder<a class="headerlink" href="#basic_encoder" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5EncoderStack</span><span class="p">(</span><span class="n">T5Stack</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="nd">@classmethod</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">basic_encoder</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">cls</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">token_embeddings</span><span class="p">:</span> <span class="n">nn</span><span class="o">.</span><span class="n">Embedding</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">num_blocks</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">block_self_attention</span><span class="p">:</span> <span class="n">Lazy</span><span class="p">[</span><span class="n">T5Attention</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lazy</span><span class="p">(</span><span class="n">T5Attention</span><span class="p">),</span>
 <span class="o">|</span>     <span class="n">final_layer_norm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerNorm</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">block_ff</span><span class="p">:</span> <span class="n">Lazy</span><span class="p">[</span><span class="n">T5LayerFF</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lazy</span><span class="p">(</span><span class="n">T5LayerFF</span><span class="p">),</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">ddp_accelerator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DdpAccelerator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">checkpoint_wrapper</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">CheckpointWrapper</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;T5EncoderStack&quot;</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5DecoderStack"></a></p>
<h2 id="t5decoderstack">T5DecoderStack<a class="headerlink" href="#t5decoderstack" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5DecoderStack</span><span class="p">(</span><span class="n">T5Stack</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">token_embeddings</span><span class="p">:</span> <span class="n">nn</span><span class="o">.</span><span class="n">Embedding</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">blocks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">T5Block</span><span class="p">],</span>
 <span class="o">|</span>     <span class="n">final_layer_norm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerNorm</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5DecoderStack.basic_decoder"></a></p>
<h3 id="basic_decoder">basic_decoder<a class="headerlink" href="#basic_decoder" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5DecoderStack</span><span class="p">(</span><span class="n">T5Stack</span><span class="p">,</span>  <span class="n">FromParams</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="nd">@classmethod</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">basic_decoder</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">cls</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">token_embeddings</span><span class="p">:</span> <span class="n">nn</span><span class="o">.</span><span class="n">Embedding</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">num_blocks</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">block_self_attention</span><span class="p">:</span> <span class="n">Lazy</span><span class="p">[</span><span class="n">T5Attention</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lazy</span><span class="p">(</span><span class="n">T5Attention</span><span class="p">),</span>
 <span class="o">|</span>     <span class="n">block_cross_attention</span><span class="p">:</span> <span class="n">Lazy</span><span class="p">[</span><span class="n">T5Attention</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lazy</span><span class="p">(</span><span class="n">T5Attention</span><span class="p">),</span>
 <span class="o">|</span>     <span class="n">final_layer_norm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T5LayerNorm</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">block_ff</span><span class="p">:</span> <span class="n">Lazy</span><span class="p">[</span><span class="n">T5LayerFF</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lazy</span><span class="p">(</span><span class="n">T5LayerFF</span><span class="p">),</span>
 <span class="o">|</span>     <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">ddp_accelerator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DdpAccelerator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">checkpoint_wrapper</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">CheckpointWrapper</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;T5DecoderStack&quot;</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5Output"></a></p>
<h2 id="t5output">T5Output<a class="headerlink" href="#t5output" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">)</span>
</code></pre></div>
<p>Defines the output from the <code>T5</code> model.</p>
<p><a id="allennlp.modules.transformer.t5.T5Output.encoder_last_hidden_state"></a></p>
<h3 id="encoder_last_hidden_state">encoder_last_hidden_state<a class="headerlink" href="#encoder_last_hidden_state" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">encoder_last_hidden_state</span><span class="p">:</span> <span class="n">FloatT</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Final hidden states from the encoder.</p>
<p>Shape: <code>(batch_size, target_length, hidden_dim)</code></p>
<p><a id="allennlp.modules.transformer.t5.T5Output.encoder_all_hidden_states"></a></p>
<h3 id="encoder_all_hidden_states">encoder_all_hidden_states<a class="headerlink" href="#encoder_all_hidden_states" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">encoder_all_hidden_states</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>All hidden states from the encoder.</p>
<p>Shape (each): <code>(batch_size, target_length, hidden_dim)</code></p>
<p><a id="allennlp.modules.transformer.t5.T5Output.decoder_last_hidden_state"></a></p>
<h3 id="decoder_last_hidden_state">decoder_last_hidden_state<a class="headerlink" href="#decoder_last_hidden_state" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">decoder_last_hidden_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Final hidden states from the decoder. Only present when <code>labels</code> is given.</p>
<p>Shape: <code>(batch_size, target_length, hidden_dim)</code></p>
<p><a id="allennlp.modules.transformer.t5.T5Output.decoder_all_hidden_states"></a></p>
<h3 id="decoder_all_hidden_states">decoder_all_hidden_states<a class="headerlink" href="#decoder_all_hidden_states" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">decoder_all_hidden_states</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>All hidden states from the decoder. Only present when <code>labels</code> is given
and <code>output_all_hidden_states</code> is <code>True</code>.</p>
<p>Shape (each): <code>(batch_size, target_length, hidden_dim)</code></p>
<p><a id="allennlp.modules.transformer.t5.T5Output.encoder_attentions"></a></p>
<h3 id="encoder_attentions">encoder_attentions<a class="headerlink" href="#encoder_attentions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">encoder_attentions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Attention values from the encoder. Only present when <code>output_attentions</code> is <code>True</code>.</p>
<p><a id="allennlp.modules.transformer.t5.T5Output.decoder_attentions"></a></p>
<h3 id="decoder_attentions">decoder_attentions<a class="headerlink" href="#decoder_attentions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">decoder_attentions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Attention values from the decoder. Only present when <code>labels</code> is given
and <code>output_attentions</code> is <code>True</code>.</p>
<p><a id="allennlp.modules.transformer.t5.T5Output.cross_attentions"></a></p>
<h3 id="cross_attentions_1">cross_attentions<a class="headerlink" href="#cross_attentions_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">cross_attentions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Cross-attention values from the decoder. Only present when <code>labels</code> is given
and <code>output_attentions</code> is <code>True</code>.</p>
<p><a id="allennlp.modules.transformer.t5.T5Output.loss"></a></p>
<h3 id="loss">loss<a class="headerlink" href="#loss" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">loss</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>The loss calculating with respect to <code>labels</code>.</p>
<p><a id="allennlp.modules.transformer.t5.T5Output.logits"></a></p>
<h3 id="logits">logits<a class="headerlink" href="#logits" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">logits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>The logits that are used to calculate the loss with respect to <code>labels</code>.</p>
<p><a id="allennlp.modules.transformer.t5.T5Output.predictions"></a></p>
<h3 id="predictions">predictions<a class="headerlink" href="#predictions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">predictions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IntT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Predicted token IDs from beam search.</p>
<p>Shape: <code>(batch_size, beam_size, max_decoding_steps)</code>.</p>
<p><a id="allennlp.modules.transformer.t5.T5Output.predicted_log_probs"></a></p>
<h3 id="predicted_log_probs">predicted_log_probs<a class="headerlink" href="#predicted_log_probs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5Output</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">predicted_log_probs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FloatT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Probabilities corresponding to <code>predictions</code>.</p>
<p>Shape: <code>(batch_size, beam_size,)</code>.</p>
<p><a id="allennlp.modules.transformer.t5.T5"></a></p>
<h2 id="t5">T5<a class="headerlink" href="#t5" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">Registrable</span><span class="p">):</span>
 <span class="o">|</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">token_embeddings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">nn</span><span class="o">.</span><span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">encoder</span><span class="p">:</span> <span class="n">Lazy</span><span class="p">[</span><span class="n">T5EncoderStack</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lazy</span><span class="p">(</span><span class="n">T5EncoderStack</span><span class="o">.</span><span class="n">basic_encoder</span><span class="p">),</span>
 <span class="o">|</span>     <span class="n">decoder</span><span class="p">:</span> <span class="n">Lazy</span><span class="p">[</span><span class="n">T5DecoderStack</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lazy</span><span class="p">(</span><span class="n">T5DecoderStack</span><span class="o">.</span><span class="n">basic_decoder</span><span class="p">),</span>
 <span class="o">|</span>     <span class="n">decoder_start_token_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">pad_token_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">eos_token_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">vocab_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">32128</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">model_dim</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">512</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">output_attentions</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">output_all_hidden_states</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">beam_search</span><span class="p">:</span> <span class="n">Lazy</span><span class="p">[</span><span class="n">BeamSearch</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lazy</span><span class="p">(</span><span class="n">BeamSearch</span><span class="p">,</span> <span class="n">beam_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_steps</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
 <span class="o">|</span>     <span class="n">ddp_accelerator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DdpAccelerator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">checkpoint_wrapper</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">CheckpointWrapper</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">tie_word_embeddings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
 <span class="o">|</span> <span class="p">)</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5.default_implementation"></a></p>
<h3 id="default_implementation">default_implementation<a class="headerlink" href="#default_implementation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">Registrable</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="n">default_implementation</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
</code></pre></div>
<p><a id="allennlp.modules.transformer.t5.T5.resize_token_embeddings"></a></p>
<h3 id="resize_token_embeddings_1">resize_token_embeddings<a class="headerlink" href="#resize_token_embeddings_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">Registrable</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">resize_token_embeddings</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">new_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
 <span class="o">|</span>     <span class="o">*</span><span class="p">,</span> <span class="n">init_fn</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">normal_</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>
<p>Resizes the token embeddings in the model.</p>
<p>This takes care of the token embeddings for the encoder, the decoder, and the LM head.</p>
<p>new_size : <code>int</code>
    The new size of the token embeddings
init_fn : <code>Callable</code>
    The function to use to initialize new embeddings. This function will be called with a
    single argument, the tensor to initialize, and it is expected to initialize the tensor
    in place. Many of the functions from <code>torch.nn.init</code> fit.</p>
<p><a id="allennlp.modules.transformer.t5.T5.forward"></a></p>
<h3 id="forward_9">forward<a class="headerlink" href="#forward_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">Registrable</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">input_ids</span><span class="p">:</span> <span class="n">IntT</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">attention_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BoolT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IntT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">decoder_attention_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BoolT</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T5Output</span>
</code></pre></div>
<p>Run forward pass of the model.</p>
<p><a id="allennlp.modules.transformer.t5.T5.take_search_step"></a></p>
<h3 id="take_search_step">take_search_step<a class="headerlink" href="#take_search_step" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">T5</span><span class="p">(</span><span class="n">TransformerModule</span><span class="p">,</span>  <span class="n">Registrable</span><span class="p">):</span>
 <span class="o">|</span> <span class="o">...</span>
 <span class="o">|</span> <span class="k">def</span> <span class="nf">take_search_step</span><span class="p">(</span>
 <span class="o">|</span>     <span class="bp">self</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">last_predictions</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">,</span>
 <span class="o">|</span>     <span class="n">state</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">],</span>
 <span class="o">|</span>     <span class="n">step</span><span class="p">:</span> <span class="nb">int</span>
 <span class="o">|</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">]]</span>
</code></pre></div>
<p>Take step during beam search.</p>
<p>This function is what gets passed to the <code>BeamSearch.search</code> method. It takes
predictions from the last timestep and the current state and outputs
the log probabilities assigned to tokens for the next timestep, as well as the updated
state.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../positional_encoding/" class="md-footer__link md-footer__link--prev" aria-label="Previous: positional_encoding" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              positional_encoding
            </div>
          </div>
        </a>
      
      
        
        <a href="../transformer_embeddings/" class="md-footer__link md-footer__link--next" aria-label="Next: transformer_embeddings" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              transformer_embeddings
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>