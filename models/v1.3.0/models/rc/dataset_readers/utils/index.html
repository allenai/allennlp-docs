
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AllenNLP is a ..">
      
      
      
        <link rel="canonical" href="https://allennlp.org/models/rc/dataset_readers/utils/">
      
      
      <link rel="shortcut icon" href="../../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.7">
    
    
      
        <title>utils - AllenNLP Models v1.3.0</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.19753c6b.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#ff6e42">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-orange" data-md-color-accent="grey">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ignored_tokens" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://allennlp.org/" title="AllenNLP Models v1.3.0" class="md-header-nav__button md-logo" aria-label="AllenNLP Models v1.3.0">
      
  <img src="../../../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            AllenNLP Models v1.3.0
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              utils
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://allennlp.org/" title="AllenNLP Models v1.3.0" class="md-nav__button md-logo" aria-label="AllenNLP Models v1.3.0">
      
  <img src="../../../../img/favicon.ico" alt="logo">

    </a>
    AllenNLP Models v1.3.0
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/allenai/allennlp-models" class="md-nav__link">
      Repository
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3">
      Versions
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Versions" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Versions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="/models/latest/" class="md-nav__link">
      Latest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="/models/stable/" class="md-nav__link">
      Stable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="/models/master/" class="md-nav__link">
      Master
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    <label class="md-nav__link" for="nav-4">
      Models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Models" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1" >
    <label class="md-nav__link" for="nav-4-1">
      classification
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="classification" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        <span class="md-nav__icon md-icon"></span>
        classification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-1-1" type="checkbox" id="nav-4-1-1" >
    <label class="md-nav__link" for="nav-4-1-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../classification/dataset_readers/stanford_sentiment_tree_bank/" class="md-nav__link">
      stanford_sentiment_tree_bank
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-1-2" type="checkbox" id="nav-4-1-2" >
    <label class="md-nav__link" for="nav-4-1-2">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-2">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../classification/models/biattentive_classification_network/" class="md-nav__link">
      biattentive_classification_network
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2" >
    <label class="md-nav__link" for="nav-4-2">
      common
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="common" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        <span class="md-nav__icon md-icon"></span>
        common
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../common/model_card/" class="md-nav__link">
      model_card
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../common/ontonotes/" class="md-nav__link">
      ontonotes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../common/task_card/" class="md-nav__link">
      task_card
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3" >
    <label class="md-nav__link" for="nav-4-3">
      coref
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="coref" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        <span class="md-nav__icon md-icon"></span>
        coref
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-1" type="checkbox" id="nav-4-3-1" >
    <label class="md-nav__link" for="nav-4-3-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-3-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../coref/dataset_readers/conll/" class="md-nav__link">
      conll
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../coref/dataset_readers/preco/" class="md-nav__link">
      preco
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../coref/dataset_readers/winobias/" class="md-nav__link">
      winobias
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-2" type="checkbox" id="nav-4-3-2" >
    <label class="md-nav__link" for="nav-4-3-2">
      metrics
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="metrics" data-md-level="3">
      <label class="md-nav__title" for="nav-4-3-2">
        <span class="md-nav__icon md-icon"></span>
        metrics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../coref/metrics/conll_coref_scores/" class="md-nav__link">
      conll_coref_scores
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../coref/metrics/mention_recall/" class="md-nav__link">
      mention_recall
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-3" type="checkbox" id="nav-4-3-3" >
    <label class="md-nav__link" for="nav-4-3-3">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-3-3">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../coref/models/coref/" class="md-nav__link">
      coref
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-4" type="checkbox" id="nav-4-3-4" >
    <label class="md-nav__link" for="nav-4-3-4">
      predictors
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="predictors" data-md-level="3">
      <label class="md-nav__title" for="nav-4-3-4">
        <span class="md-nav__icon md-icon"></span>
        predictors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../coref/predictors/coref/" class="md-nav__link">
      coref
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../coref/util/" class="md-nav__link">
      util
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4" >
    <label class="md-nav__link" for="nav-4-4">
      generation
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="generation" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        <span class="md-nav__icon md-icon"></span>
        generation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4-1" type="checkbox" id="nav-4-4-1" >
    <label class="md-nav__link" for="nav-4-4-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-4-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/dataset_readers/cnn_dm/" class="md-nav__link">
      cnn_dm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/dataset_readers/copynet_seq2seq/" class="md-nav__link">
      copynet_seq2seq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/dataset_readers/seq2seq/" class="md-nav__link">
      seq2seq
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4-2" type="checkbox" id="nav-4-4-2" >
    <label class="md-nav__link" for="nav-4-4-2">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-4-2">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/models/bart/" class="md-nav__link">
      bart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/models/composed_seq2seq/" class="md-nav__link">
      composed_seq2seq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/models/copynet_seq2seq/" class="md-nav__link">
      copynet_seq2seq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/models/simple_seq2seq/" class="md-nav__link">
      simple_seq2seq
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4-3" type="checkbox" id="nav-4-4-3" >
    <label class="md-nav__link" for="nav-4-4-3">
      modules
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="modules" data-md-level="3">
      <label class="md-nav__title" for="nav-4-4-3">
        <span class="md-nav__icon md-icon"></span>
        modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4-3-1" type="checkbox" id="nav-4-4-3-1" >
    <label class="md-nav__link" for="nav-4-4-3-1">
      decoder_nets
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="decoder_nets" data-md-level="4">
      <label class="md-nav__title" for="nav-4-4-3-1">
        <span class="md-nav__icon md-icon"></span>
        decoder_nets
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/modules/decoder_nets/decoder_net/" class="md-nav__link">
      decoder_net
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/modules/decoder_nets/lstm_cell/" class="md-nav__link">
      lstm_cell
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/modules/decoder_nets/stacked_self_attention/" class="md-nav__link">
      stacked_self_attention
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4-3-2" type="checkbox" id="nav-4-4-3-2" >
    <label class="md-nav__link" for="nav-4-4-3-2">
      seq_decoders
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="seq_decoders" data-md-level="4">
      <label class="md-nav__title" for="nav-4-4-3-2">
        <span class="md-nav__icon md-icon"></span>
        seq_decoders
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/modules/seq_decoders/auto_regressive/" class="md-nav__link">
      auto_regressive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/modules/seq_decoders/seq_decoder/" class="md-nav__link">
      seq_decoder
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4-4" type="checkbox" id="nav-4-4-4" >
    <label class="md-nav__link" for="nav-4-4-4">
      predictors
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="predictors" data-md-level="3">
      <label class="md-nav__title" for="nav-4-4-4">
        <span class="md-nav__icon md-icon"></span>
        predictors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generation/predictors/seq2seq/" class="md-nav__link">
      seq2seq
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5" >
    <label class="md-nav__link" for="nav-4-5">
      lm
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="lm" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        <span class="md-nav__icon md-icon"></span>
        lm
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-1" type="checkbox" id="nav-4-5-1" >
    <label class="md-nav__link" for="nav-4-5-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/dataset_readers/masked_language_model/" class="md-nav__link">
      masked_language_model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/dataset_readers/next_token_lm/" class="md-nav__link">
      next_token_lm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/dataset_readers/simple_language_modeling/" class="md-nav__link">
      simple_language_modeling
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-2" type="checkbox" id="nav-4-5-2" >
    <label class="md-nav__link" for="nav-4-5-2">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-2">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/models/bidirectional_lm/" class="md-nav__link">
      bidirectional_lm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/models/language_model/" class="md-nav__link">
      language_model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/models/masked_language_model/" class="md-nav__link">
      masked_language_model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/models/next_token_lm/" class="md-nav__link">
      next_token_lm
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-3" type="checkbox" id="nav-4-5-3" >
    <label class="md-nav__link" for="nav-4-5-3">
      modules
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="modules" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-3">
        <span class="md-nav__icon md-icon"></span>
        modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-3-1" type="checkbox" id="nav-4-5-3-1" >
    <label class="md-nav__link" for="nav-4-5-3-1">
      language_model_heads
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="language_model_heads" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-3-1">
        <span class="md-nav__icon md-icon"></span>
        language_model_heads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/modules/language_model_heads/bert/" class="md-nav__link">
      bert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/modules/language_model_heads/gpt2/" class="md-nav__link">
      gpt2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/modules/language_model_heads/language_model_head/" class="md-nav__link">
      language_model_head
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/modules/language_model_heads/linear/" class="md-nav__link">
      linear
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-3-2" type="checkbox" id="nav-4-5-3-2" >
    <label class="md-nav__link" for="nav-4-5-3-2">
      seq2seq_encoders
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="seq2seq_encoders" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-3-2">
        <span class="md-nav__icon md-icon"></span>
        seq2seq_encoders
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/modules/seq2seq_encoders/bidirectional_lm_transformer/" class="md-nav__link">
      bidirectional_lm_transformer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-3-3" type="checkbox" id="nav-4-5-3-3" >
    <label class="md-nav__link" for="nav-4-5-3-3">
      token_embedders
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="token_embedders" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-3-3">
        <span class="md-nav__icon md-icon"></span>
        token_embedders
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/modules/token_embedders/bidirectional_lm/" class="md-nav__link">
      bidirectional_lm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/modules/token_embedders/language_model/" class="md-nav__link">
      language_model
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-4" type="checkbox" id="nav-4-5-4" >
    <label class="md-nav__link" for="nav-4-5-4">
      predictors
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="predictors" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-4">
        <span class="md-nav__icon md-icon"></span>
        predictors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/predictors/masked_language_model/" class="md-nav__link">
      masked_language_model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/predictors/next_token_lm/" class="md-nav__link">
      next_token_lm
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-5" type="checkbox" id="nav-4-5-5" >
    <label class="md-nav__link" for="nav-4-5-5">
      util
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="util" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-5">
        <span class="md-nav__icon md-icon"></span>
        util
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5-5-1" type="checkbox" id="nav-4-5-5-1" >
    <label class="md-nav__link" for="nav-4-5-5-1">
      beam_search_generators
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="beam_search_generators" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-5-1">
        <span class="md-nav__icon md-icon"></span>
        beam_search_generators
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/util/beam_search_generators/beam_search_generator/" class="md-nav__link">
      beam_search_generator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../lm/util/beam_search_generators/transformer_beam_search_generator/" class="md-nav__link">
      transformer_beam_search_generator
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6" >
    <label class="md-nav__link" for="nav-4-6">
      mc
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="mc" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        <span class="md-nav__icon md-icon"></span>
        mc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-6-1" type="checkbox" id="nav-4-6-1" >
    <label class="md-nav__link" for="nav-4-6-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-6-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mc/dataset_readers/commonsenseqa/" class="md-nav__link">
      commonsenseqa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mc/dataset_readers/fake/" class="md-nav__link">
      fake
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mc/dataset_readers/piqa/" class="md-nav__link">
      piqa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mc/dataset_readers/swag/" class="md-nav__link">
      swag
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mc/dataset_readers/transformer_mc/" class="md-nav__link">
      transformer_mc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-6-2" type="checkbox" id="nav-4-6-2" >
    <label class="md-nav__link" for="nav-4-6-2">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-6-2">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mc/models/transformer_mc/" class="md-nav__link">
      transformer_mc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-6-3" type="checkbox" id="nav-4-6-3" >
    <label class="md-nav__link" for="nav-4-6-3">
      predictors
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="predictors" data-md-level="3">
      <label class="md-nav__title" for="nav-4-6-3">
        <span class="md-nav__icon md-icon"></span>
        predictors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mc/predictors/transformer_mc/" class="md-nav__link">
      transformer_mc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-7" type="checkbox" id="nav-4-7" >
    <label class="md-nav__link" for="nav-4-7">
      pair_classification
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="pair_classification" data-md-level="2">
      <label class="md-nav__title" for="nav-4-7">
        <span class="md-nav__icon md-icon"></span>
        pair_classification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-7-1" type="checkbox" id="nav-4-7-1" >
    <label class="md-nav__link" for="nav-4-7-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-7-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pair_classification/dataset_readers/quora_paraphrase/" class="md-nav__link">
      quora_paraphrase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pair_classification/dataset_readers/snli/" class="md-nav__link">
      snli
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-7-2" type="checkbox" id="nav-4-7-2" >
    <label class="md-nav__link" for="nav-4-7-2">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-7-2">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pair_classification/models/bimpm/" class="md-nav__link">
      bimpm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pair_classification/models/decomposable_attention/" class="md-nav__link">
      decomposable_attention
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pair_classification/models/esim/" class="md-nav__link">
      esim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-7-3" type="checkbox" id="nav-4-7-3" >
    <label class="md-nav__link" for="nav-4-7-3">
      predictors
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="predictors" data-md-level="3">
      <label class="md-nav__title" for="nav-4-7-3">
        <span class="md-nav__icon md-icon"></span>
        predictors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pair_classification/predictors/textual_entailment/" class="md-nav__link">
      textual_entailment
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pretrained/" class="md-nav__link">
      pretrained
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9" type="checkbox" id="nav-4-9" checked>
    <label class="md-nav__link" for="nav-4-9">
      rc
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="rc" data-md-level="2">
      <label class="md-nav__title" for="nav-4-9">
        <span class="md-nav__icon md-icon"></span>
        rc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9-1" type="checkbox" id="nav-4-9-1" checked>
    <label class="md-nav__link" for="nav-4-9-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-9-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../drop/" class="md-nav__link">
      drop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../qangaroo/" class="md-nav__link">
      qangaroo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quac/" class="md-nav__link">
      quac
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../squad/" class="md-nav__link">
      squad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transformer_squad/" class="md-nav__link">
      transformer_squad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../triviaqa/" class="md-nav__link">
      triviaqa
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        utils
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      utils
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ignored_tokens" class="md-nav__link">
    IGNORED_TOKENS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stripped_characters" class="md-nav__link">
    STRIPPED_CHARACTERS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalize_text" class="md-nav__link">
    normalize_text
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#char_span_to_token_span" class="md-nav__link">
    char_span_to_token_span
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find_valid_answer_spans" class="md-nav__link">
    find_valid_answer_spans
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make_reading_comprehension_instance" class="md-nav__link">
    make_reading_comprehension_instance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make_reading_comprehension_instance_quac" class="md-nav__link">
    make_reading_comprehension_instance_quac
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handle_cannot" class="md-nav__link">
    handle_cannot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#split_token_by_delimiter" class="md-nav__link">
    split_token_by_delimiter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#split_tokens_by_hyphen" class="md-nav__link">
    split_tokens_by_hyphen
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9-2" type="checkbox" id="nav-4-9-2" >
    <label class="md-nav__link" for="nav-4-9-2">
      metrics
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="metrics" data-md-level="3">
      <label class="md-nav__title" for="nav-4-9-2">
        <span class="md-nav__icon md-icon"></span>
        metrics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../metrics/drop_em_and_f1/" class="md-nav__link">
      drop_em_and_f1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../metrics/squad_em_and_f1/" class="md-nav__link">
      squad_em_and_f1
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9-3" type="checkbox" id="nav-4-9-3" >
    <label class="md-nav__link" for="nav-4-9-3">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-9-3">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../models/bidaf/" class="md-nav__link">
      bidaf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../models/bidaf_ensemble/" class="md-nav__link">
      bidaf_ensemble
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../models/dialog_qa/" class="md-nav__link">
      dialog_qa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../models/naqanet/" class="md-nav__link">
      naqanet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../models/qanet/" class="md-nav__link">
      qanet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../models/transformer_qa/" class="md-nav__link">
      transformer_qa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../models/utils/" class="md-nav__link">
      utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9-4" type="checkbox" id="nav-4-9-4" >
    <label class="md-nav__link" for="nav-4-9-4">
      modules
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="modules" data-md-level="3">
      <label class="md-nav__title" for="nav-4-9-4">
        <span class="md-nav__icon md-icon"></span>
        modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9-4-1" type="checkbox" id="nav-4-9-4-1" >
    <label class="md-nav__link" for="nav-4-9-4-1">
      seq2seq_encoders
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="seq2seq_encoders" data-md-level="4">
      <label class="md-nav__title" for="nav-4-9-4-1">
        <span class="md-nav__icon md-icon"></span>
        seq2seq_encoders
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../modules/seq2seq_encoders/multi_head_self_attention/" class="md-nav__link">
      multi_head_self_attention
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../modules/seq2seq_encoders/qanet_encoder/" class="md-nav__link">
      qanet_encoder
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../modules/seq2seq_encoders/stacked_self_attention/" class="md-nav__link">
      stacked_self_attention
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9-5" type="checkbox" id="nav-4-9-5" >
    <label class="md-nav__link" for="nav-4-9-5">
      predictors
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="predictors" data-md-level="3">
      <label class="md-nav__title" for="nav-4-9-5">
        <span class="md-nav__icon md-icon"></span>
        predictors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../predictors/bidaf/" class="md-nav__link">
      bidaf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../predictors/dialog_qa/" class="md-nav__link">
      dialog_qa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../predictors/transformer_qa/" class="md-nav__link">
      transformer_qa
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-9-6" type="checkbox" id="nav-4-9-6" >
    <label class="md-nav__link" for="nav-4-9-6">
      tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="tools" data-md-level="3">
      <label class="md-nav__title" for="nav-4-9-6">
        <span class="md-nav__icon md-icon"></span>
        tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/drop/" class="md-nav__link">
      drop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/narrativeqa/" class="md-nav__link">
      narrativeqa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/orb/" class="md-nav__link">
      orb
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/orb_utils/" class="md-nav__link">
      orb_utils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/quoref/" class="md-nav__link">
      quoref
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/squad/" class="md-nav__link">
      squad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/transformer_qa_eval/" class="md-nav__link">
      transformer_qa_eval
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-10" type="checkbox" id="nav-4-10" >
    <label class="md-nav__link" for="nav-4-10">
      structured_prediction
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="structured_prediction" data-md-level="2">
      <label class="md-nav__title" for="nav-4-10">
        <span class="md-nav__icon md-icon"></span>
        structured_prediction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-10-1" type="checkbox" id="nav-4-10-1" >
    <label class="md-nav__link" for="nav-4-10-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-10-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/dataset_readers/penn_tree_bank/" class="md-nav__link">
      penn_tree_bank
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/dataset_readers/semantic_dependencies/" class="md-nav__link">
      semantic_dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/dataset_readers/srl/" class="md-nav__link">
      srl
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/dataset_readers/universal_dependencies/" class="md-nav__link">
      universal_dependencies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-10-2" type="checkbox" id="nav-4-10-2" >
    <label class="md-nav__link" for="nav-4-10-2">
      metrics
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="metrics" data-md-level="3">
      <label class="md-nav__title" for="nav-4-10-2">
        <span class="md-nav__icon md-icon"></span>
        metrics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/metrics/srl_eval_scorer/" class="md-nav__link">
      srl_eval_scorer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-10-3" type="checkbox" id="nav-4-10-3" >
    <label class="md-nav__link" for="nav-4-10-3">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-10-3">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/models/biaffine_dependency_parser/" class="md-nav__link">
      biaffine_dependency_parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/models/constituency_parser/" class="md-nav__link">
      constituency_parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/models/graph_parser/" class="md-nav__link">
      graph_parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/models/srl/" class="md-nav__link">
      srl
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/models/srl_bert/" class="md-nav__link">
      srl_bert
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-10-4" type="checkbox" id="nav-4-10-4" >
    <label class="md-nav__link" for="nav-4-10-4">
      predictors
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="predictors" data-md-level="3">
      <label class="md-nav__title" for="nav-4-10-4">
        <span class="md-nav__icon md-icon"></span>
        predictors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/predictors/biaffine_dependency_parser/" class="md-nav__link">
      biaffine_dependency_parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/predictors/constituency_parser/" class="md-nav__link">
      constituency_parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/predictors/openie/" class="md-nav__link">
      openie
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/predictors/srl/" class="md-nav__link">
      srl
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-10-5" type="checkbox" id="nav-4-10-5" >
    <label class="md-nav__link" for="nav-4-10-5">
      tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="tools" data-md-level="3">
      <label class="md-nav__title" for="nav-4-10-5">
        <span class="md-nav__icon md-icon"></span>
        tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/tools/convert_openie_to_conll/" class="md-nav__link">
      convert_openie_to_conll
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../structured_prediction/tools/write_srl_predictions_to_conll_format/" class="md-nav__link">
      write_srl_predictions_to_conll_format
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-11" type="checkbox" id="nav-4-11" >
    <label class="md-nav__link" for="nav-4-11">
      tagging
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="tagging" data-md-level="2">
      <label class="md-nav__title" for="nav-4-11">
        <span class="md-nav__icon md-icon"></span>
        tagging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-11-1" type="checkbox" id="nav-4-11-1" >
    <label class="md-nav__link" for="nav-4-11-1">
      dataset_readers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="dataset_readers" data-md-level="3">
      <label class="md-nav__title" for="nav-4-11-1">
        <span class="md-nav__icon md-icon"></span>
        dataset_readers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tagging/dataset_readers/ccgbank/" class="md-nav__link">
      ccgbank
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tagging/dataset_readers/conll2000/" class="md-nav__link">
      conll2000
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tagging/dataset_readers/conll2003/" class="md-nav__link">
      conll2003
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tagging/dataset_readers/ontonotes_ner/" class="md-nav__link">
      ontonotes_ner
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-11-2" type="checkbox" id="nav-4-11-2" >
    <label class="md-nav__link" for="nav-4-11-2">
      models
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="models" data-md-level="3">
      <label class="md-nav__title" for="nav-4-11-2">
        <span class="md-nav__icon md-icon"></span>
        models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tagging/models/crf_tagger/" class="md-nav__link">
      crf_tagger
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-11-3" type="checkbox" id="nav-4-11-3" >
    <label class="md-nav__link" for="nav-4-11-3">
      predictors
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="predictors" data-md-level="3">
      <label class="md-nav__title" for="nav-4-11-3">
        <span class="md-nav__icon md-icon"></span>
        predictors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tagging/predictors/sentence_tagger/" class="md-nav__link">
      sentence_tagger
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../CHANGELOG/" class="md-nav__link">
      CHANGELOG
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://raw.githubusercontent.com/allenai/allennlp-models/master/LICENSE" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ignored_tokens" class="md-nav__link">
    IGNORED_TOKENS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stripped_characters" class="md-nav__link">
    STRIPPED_CHARACTERS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalize_text" class="md-nav__link">
    normalize_text
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#char_span_to_token_span" class="md-nav__link">
    char_span_to_token_span
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find_valid_answer_spans" class="md-nav__link">
    find_valid_answer_spans
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make_reading_comprehension_instance" class="md-nav__link">
    make_reading_comprehension_instance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make_reading_comprehension_instance_quac" class="md-nav__link">
    make_reading_comprehension_instance_quac
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handle_cannot" class="md-nav__link">
    handle_cannot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#split_token_by_delimiter" class="md-nav__link">
    split_token_by_delimiter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#split_tokens_by_hyphen" class="md-nav__link">
    split_tokens_by_hyphen
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>utils</h1>
                
                <div>
 <p class="alignleft"><i>allennlp_models</i><i>.rc</i><i>.dataset_readers</i><strong>.utils</strong></p>
 <p class="alignright"><a class="sourcelink" href="https://github.com/allenai/allennlp-models/blob/v1.3.0/allennlp_models/rc/dataset_readers/utils.py">[SOURCE]</a></p>
</div>
<div style="clear: both;"></div>

<hr />
<p>Utilities for reading comprehension dataset readers.</p>
<p><a name=".allennlp_models.rc.dataset_readers.utils.IGNORED_TOKENS"></a></p>
<h2 id="ignored_tokens">IGNORED_TOKENS<a class="headerlink" href="#ignored_tokens" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">IGNORED_TOKENS</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;an&quot;</span><span class="p">,</span> <span class="s2">&quot;the&quot;</span><span class="p">}</span>
</code></pre></div>

<p><a name=".allennlp_models.rc.dataset_readers.utils.STRIPPED_CHARACTERS"></a></p>
<h2 id="stripped_characters">STRIPPED_CHARACTERS<a class="headerlink" href="#stripped_characters" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">STRIPPED_CHARACTERS</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">punctuation</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;‘&quot;</span><span class="p">,</span> <span class="s2">&quot;’&quot;</span><span class="p">,</span> <span class="s2">&quot;´&quot;</span><span class="p">,</span> <span class="s2">&quot;`&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">])</span>
</code></pre></div>

<p><a name=".allennlp_models.rc.dataset_readers.utils.normalize_text"></a></p>
<h2 id="normalize_text">normalize_text<a class="headerlink" href="#normalize_text" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">normalize_text</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

<p>Performs a normalization that is very similar to that done by the normalization functions in
SQuAD and TriviaQA.</p>
<p>This involves splitting and rejoining the text, and could be a somewhat expensive operation.</p>
<p><a name=".allennlp_models.rc.dataset_readers.utils.char_span_to_token_span"></a></p>
<h2 id="char_span_to_token_span">char_span_to_token_span<a class="headerlink" href="#char_span_to_token_span" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">char_span_to_token_span</span><span class="p">(</span>
    <span class="n">token_offsets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]],</span>
    <span class="n">character_span</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span>
</code></pre></div>

<p>Converts a character span from a passage into the corresponding token span in the tokenized
version of the passage.  If you pass in a character span that does not correspond to complete
tokens in the tokenized version, we'll do our best, but the behavior is officially undefined.
We return an error flag in this case, and have some debug logging so you can figure out the
cause of this issue (in SQuAD, these are mostly either tokenization problems or annotation
problems; there's a fair amount of both).</p>
<p>The basic outline of this method is to find the token span that has the same offsets as the
input character span.  If the tokenizer tokenized the passage correctly and has matching
offsets, this is easy.  We try to be a little smart about cases where they don't match exactly,
but mostly just find the closest thing we can.</p>
<p>The returned <code>(begin, end)</code> indices are <code>inclusive</code> for both <code>begin</code> and <code>end</code>.
So, for example, <code>(2, 2)</code> is the one word span beginning at token index 2, <code>(3, 4)</code> is the
two-word span beginning at token index 3, and so on.</p>
<p><strong>Returnstoken_span : <code>Tuple[int, int]</code></strong></p>
<div class="codehilite"><pre><span></span><code><span class="n n-Quoted">`Inclusive`</span> <span class="n">span</span> <span class="k">start</span> <span class="k">and</span> <span class="k">end</span> <span class="n">token</span> <span class="n">indices</span> <span class="n">that</span> <span class="k">match</span> <span class="k">as</span> <span class="n">closely</span> <span class="k">as</span> <span class="n">possible</span> <span class="k">to</span> <span class="n">the</span> <span class="n">input</span>
<span class="k">character</span> <span class="n">spans</span><span class="p">.</span>
</code></pre></div>

<p>error : <code>bool</code>
    Whether there was an error while matching the token spans exactly. If this is <code>True</code>, it
    means there was an error in either the tokenization or the annotated character span. If this
    is <code>False</code>, it means that we found tokens that match the character span exactly.</p>
<p><a name=".allennlp_models.rc.dataset_readers.utils.find_valid_answer_spans"></a></p>
<h2 id="find_valid_answer_spans">find_valid_answer_spans<a class="headerlink" href="#find_valid_answer_spans" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">find_valid_answer_spans</span><span class="p">(</span>
    <span class="n">passage_tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">],</span>
    <span class="n">answer_texts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
</code></pre></div>

<p>Finds a list of token spans in <code>passage_tokens</code> that match the given <code>answer_texts</code>.  This
tries to find all spans that would evaluate to correct given the SQuAD and TriviaQA official
evaluation scripts, which do some normalization of the input text.</p>
<p>Note that this could return duplicate spans!  The caller is expected to be able to handle
possible duplicates (as already happens in the SQuAD dev set, for instance).</p>
<p><a name=".allennlp_models.rc.dataset_readers.utils.make_reading_comprehension_instance"></a></p>
<h2 id="make_reading_comprehension_instance">make_reading_comprehension_instance<a class="headerlink" href="#make_reading_comprehension_instance" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">make_reading_comprehension_instance</span><span class="p">(</span>
    <span class="n">question_tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">],</span>
    <span class="n">passage_tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">],</span>
    <span class="n">token_indexers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TokenIndexer</span><span class="p">],</span>
    <span class="n">passage_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">token_spans</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">answer_texts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">additional_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Instance</span>
</code></pre></div>

<p>Converts a question, a passage, and an optional answer (or answers) to an <code>Instance</code> for use
in a reading comprehension model.</p>
<p>Creates an <code>Instance</code> with at least these fields: <code>question</code> and <code>passage</code>, both
<code>TextFields</code>; and <code>metadata</code>, a <code>MetadataField</code>.  Additionally, if both <code>answer_texts</code>
and <code>char_span_starts</code> are given, the <code>Instance</code> has <code>span_start</code> and <code>span_end</code>
fields, which are both <code>IndexFields</code>.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>question_tokens</strong> : <code>List[Token]</code> <br>
    An already-tokenized question.</li>
<li><strong>passage_tokens</strong> : <code>List[Token]</code> <br>
    An already-tokenized passage that contains the answer to the given question.</li>
<li><strong>token_indexers</strong> : <code>Dict[str, TokenIndexer]</code> <br>
    Determines how the question and passage <code>TextFields</code> will be converted into tensors that
    get input to a model.  See <a href="#tokenindexer"><code>TokenIndexer</code></a>.</li>
<li><strong>passage_text</strong> : <code>str</code> <br>
    The original passage text.  We need this so that we can recover the actual span from the
    original passage that the model predicts as the answer to the question.  This is used in
    official evaluation scripts.</li>
<li><strong>token_spans</strong> : <code>List[Tuple[int, int]]</code>, optional <br>
    Indices into <code>passage_tokens</code> to use as the answer to the question for training.  This is
    a list because there might be several possible correct answer spans in the passage.
    Currently, we just select the most frequent span in this list (i.e., SQuAD has multiple
    annotations on the dev set; this will select the span that the most annotators gave as
    correct).</li>
<li><strong>answer_texts</strong> : <code>List[str]</code>, optional <br>
    All valid answer strings for the given question.  In SQuAD, e.g., the training set has
    exactly one answer per question, but the dev and test sets have several.  TriviaQA has many
    possible answers, which are the aliases for the known correct entity.  This is put into the
    metadata for use with official evaluation scripts, but not used anywhere else.</li>
<li><strong>additional_metadata</strong> : <code>Dict[str, Any]</code>, optional <br>
    The constructed <code>metadata</code> field will by default contain <code>original_passage</code>,
    <code>token_offsets</code>, <code>question_tokens</code>, <code>passage_tokens</code>, and <code>answer_texts</code> keys.  If
    you want any other metadata to be associated with each instance, you can pass that in here.
    This dictionary will get added to the <code>metadata</code> dictionary we already construct.</li>
</ul>
<p><a name=".allennlp_models.rc.dataset_readers.utils.make_reading_comprehension_instance_quac"></a></p>
<h2 id="make_reading_comprehension_instance_quac">make_reading_comprehension_instance_quac<a class="headerlink" href="#make_reading_comprehension_instance_quac" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">make_reading_comprehension_instance_quac</span><span class="p">(</span>
    <span class="n">question_list_tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">]],</span>
    <span class="n">passage_tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">],</span>
    <span class="n">token_indexers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TokenIndexer</span><span class="p">],</span>
    <span class="n">passage_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">token_span_lists</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">yesno_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">followup_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">additional_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">num_context_answers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Instance</span>
</code></pre></div>

<p>Converts a question, a passage, and an optional answer (or answers) to an <code>Instance</code> for use
in a reading comprehension model.</p>
<p>Creates an <code>Instance</code> with at least these fields: <code>question</code> and <code>passage</code>, both
<code>TextFields</code>; and <code>metadata</code>, a <code>MetadataField</code>.  Additionally, if both <code>answer_texts</code>
and <code>char_span_starts</code> are given, the <code>Instance</code> has <code>span_start</code> and <code>span_end</code>
fields, which are both <code>IndexFields</code>.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>question_list_tokens</strong> : <code>List[List[Token]]</code> <br>
    An already-tokenized list of questions. Each dialog have multiple questions.</li>
<li><strong>passage_tokens</strong> : <code>List[Token]</code> <br>
    An already-tokenized passage that contains the answer to the given question.</li>
<li><strong>token_indexers</strong> : <code>Dict[str, TokenIndexer]</code> <br>
    Determines how the question and passage <code>TextFields</code> will be converted into tensors that
    get input to a model.  See <a href="#tokenindexer"><code>TokenIndexer</code></a>.</li>
<li><strong>passage_text</strong> : <code>str</code> <br>
    The original passage text.  We need this so that we can recover the actual span from the
    original passage that the model predicts as the answer to the question.  This is used in
    official evaluation scripts.</li>
<li><strong>token_span_lists</strong> : <code>List[List[Tuple[int, int]]]</code>, optional <br>
    Indices into <code>passage_tokens</code> to use as the answer to the question for training.  This is
    a list of list, first because there is multiple questions per dialog, and
    because there might be several possible correct answer spans in the passage.
    Currently, we just select the last span in this list (i.e., QuAC has multiple
    annotations on the dev set; this will select the last span, which was given by the original annotator).</li>
<li><strong>yesno_list</strong> : <code>List[int]</code> <br>
    List of the affirmation bit for each question answer pairs.</li>
<li><strong>followup_list</strong> : <code>List[int]</code> <br>
    List of the continuation bit for each question answer pairs.</li>
<li><strong>num_context_answers</strong> : <code>int</code>, optional <br>
    How many answers to encode into the passage.</li>
<li><strong>additional_metadata</strong> : <code>Dict[str, Any]</code>, optional <br>
    The constructed <code>metadata</code> field will by default contain <code>original_passage</code>,
    <code>token_offsets</code>, <code>question_tokens</code>, <code>passage_tokens</code>, and <code>answer_texts</code> keys.  If
    you want any other metadata to be associated with each instance, you can pass that in here.
    This dictionary will get added to the <code>metadata</code> dictionary we already construct.</li>
</ul>
<p><a name=".allennlp_models.rc.dataset_readers.utils.handle_cannot"></a></p>
<h2 id="handle_cannot">handle_cannot<a class="headerlink" href="#handle_cannot" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_cannot</span><span class="p">(</span><span class="n">reference_answers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span>
</code></pre></div>

<p>Process a list of reference answers.
If equal or more than half of the reference answers are "CANNOTANSWER", take it as gold.
Otherwise, return answers that are not "CANNOTANSWER".</p>
<p><a name=".allennlp_models.rc.dataset_readers.utils.split_token_by_delimiter"></a></p>
<h2 id="split_token_by_delimiter">split_token_by_delimiter<a class="headerlink" href="#split_token_by_delimiter" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">split_token_by_delimiter</span><span class="p">(</span>
    <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">,</span>
    <span class="n">delimiter</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">]</span>
</code></pre></div>

<p><a name=".allennlp_models.rc.dataset_readers.utils.split_tokens_by_hyphen"></a></p>
<h2 id="split_tokens_by_hyphen">split_tokens_by_hyphen<a class="headerlink" href="#split_tokens_by_hyphen" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">split_tokens_by_hyphen</span><span class="p">(</span><span class="n">tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">]</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../triviaqa/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                triviaqa
              </div>
            </div>
          </a>
        
        
          <a href="../../metrics/drop_em_and_f1/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                drop_em_and_f1
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/vendor.0ac82a11.min.js"></script>
      <script src="../../../../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../../..",
          features: [],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>