

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>allennlp.semparse.contexts &mdash; AllenNLP 0.9.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="allennlp.semparse.executors" href="allennlp.semparse.executors.html" />
    <link rel="prev" title="allennlp.semparse.common" href="allennlp.semparse.common.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/allennlp-logo-dark.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="allennlp.commands.html">allennlp.commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.subcommand.html">allennlp.commands.subcommand</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.configure.html">allennlp.commands.configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.evaluate.html">allennlp.commands.evaluate</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.make_vocab.html">allennlp.commands.make_vocab</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.predict.html">allennlp.commands.predict</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.train.html">allennlp.commands.train</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.fine_tune.html">allennlp.commands.fine_tune</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.elmo.html">allennlp.commands.elmo</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.dry_run.html">allennlp.commands.dry_run</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.find_learning_rate.html">allennlp.commands.find_learning_rate</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.test_install.html">allennlp.commands.test_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.print_results.html">allennlp.commands.print_results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.common.html">allennlp.common</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.checks.html">allennlp.common.checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.configuration.html">allennlp.common.configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.file_utils.html">allennlp.common.file_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.from_params.html">allennlp.common.from_params</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.params.html">allennlp.common.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.registrable.html">allennlp.common.registrable</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.tee_logger.html">allennlp.common.tee_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.testing.html">allennlp.common.testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.tqdm.html">allennlp.common.checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.util.html">allennlp.common.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.data.html">allennlp.data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset.html">allennlp.data.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset_readers.html">allennlp.data.dataset_readers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.dataset_reader.html">allennlp.data.dataset_readers.dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.dataset_utils.html">allennlp.data.dataset_readers.dataset_utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.babi.html">allennlp.data.dataset_readers.babi</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.ccgbank.html">allennlp.data.dataset_readers.ccgbank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.conll2000.html">allennlp.data.dataset_readers.conll2000</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.conll2003.html">allennlp.data.dataset_readers.conll2003</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.coreference_resolution.html">allennlp.data.dataset_readers.coreference_resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.event2mind.html">allennlp.data.dataset_readers.event2mind</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.interleaving_dataset_reader.html">allennlp.data.dataset_readers.interleaving_dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.language_modeling.html">allennlp.data.dataset_readers.language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.masked_language_modeling.html">allennlp.data.dataset_readers.masked_language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.multiprocess_dataset_reader.html">allennlp.data.dataset_readers.multiprocess_dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.next_token_lm.html">allennlp.data.dataset_readers.next_token_lm</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.ontonotes_ner.html">allennlp.data.dataset_readers.ontonotes_ner</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.penn_tree_bank.html">allennlp.data.dataset_readers.penn_tree_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.quora_paraphrase.html">allennlp.data.dataset_readers.quora_paraphrase</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.reading_comprehension.html">allennlp.data.dataset_readers.reading_comprehension</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_dependency_parsing.html">allennlp.data.dataset_readers.semantic_dependency_parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_parsing.html">allennlp.data.dataset_readers.semantic_parsing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_parsing.wikitables.html">allennlp.data.dataset_readers.semantic_parsing.wikitables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_role_labeling.html">allennlp.data.dataset_readers.semantic_role_labeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.seq2seq.html">allennlp.data.dataset_readers.seq2seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.sequence_tagging.html">allennlp.data.dataset_readers.sequence_tagging</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.simple_language_modeling.html">allennlp.data.dataset_readers.simple_language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.snli.html">allennlp.data.dataset_readers.snli</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.stanford_sentiment_tree_bank.html">allennlp.data.dataset_readers.stanford_sentiment_tree_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.universal_dependencies.html">allennlp.data.dataset_readers.universal_dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.universal_dependencies_multilang.html">allennlp.data.dataset_readers.universal_dependencies_multilang</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.quora_paraphrase.html">allennlp.data.dataset_readers.quora_paraphrase</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.copynet_seq2seq.html">allennlp.data.dataset_readers.copynet_seq2seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.text_classification_json.html">allennlp.data.dataset_readers.text_classification_json</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.fields.html">allennlp.data.fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.instance.html">allennlp.data.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.iterators.html">allennlp.data.iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.token_indexers.html">allennlp.data.token_indexers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.tokenizers.html">allennlp.data.tokenizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.vocabulary.html">allennlp.data.vocabulary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.interpret.html">allennlp.interpret</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.interpret.attackers.html">allennlp.interpret.attackers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.interpret.saliency_interpreters.html">allennlp.interpret.saliency_interpreters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.models.html">allennlp.models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.model.html">allennlp.models.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.archival.html">allennlp.models.archival</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.basic_classifier.html">allennlp.models.basic_classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.bert_for_classification.html">allennlp.models.bert_for_classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biaffine_dependency_parser.html">allennlp.models.biaffine_dependency_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biaffine_dependency_parser_multilang.html">allennlp.models.biaffine_dependency_parser_multilang</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biattentive_classification_network.html">allennlp.models.biattentive_classification_network</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.bimpm.html">allennlp.models.bimpm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.constituency_parser.html">allennlp.models.constituency_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.coreference_resolution.html">allennlp.models.coreference_resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.crf_tagger.html">allennlp.models.crf_tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.decomposable_attention.html">allennlp.models.decomposable_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.encoder_decoders.html">allennlp.models.encoder_decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.ensemble.html">allennlp.models.ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.esim.html">allennlp.models.esim</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.event2mind.html">allennlp.models.event2mind</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.graph_parser.html">allennlp.models.graph_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.language_model.html">allennlp.models.language_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.masked_language_model.html">allennlp.models.masked_language_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.next_token_lm.html">allennlp.models.next_token_lm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.reading_comprehension.html">allennlp.models.reading_comprehension</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.semantic_parsing.html">allennlp.models.semantic_parsing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.nlvr.html">allennlp.models.semantic_parsing.nlvr</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.wikitables.html">allennlp.models.semantic_parsing.wikitables</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.atis.html">allennlp.models.semantic_parsing.atis</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.quarel.html">allennlp.models.semantic_parsing.quarel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.semantic_role_labeler.html">allennlp.models.semantic_role_labeler</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.simple_tagger.html">allennlp.models.simple_tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.srl_bert.html">allennlp.models.srl_bert</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.srl_util.html">allennlp.models.srl_util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.predictors.html">allennlp.predictors</a></li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.modules.html">allennlp.modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.attention.html">allennlp.modules.attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.matrix_attention.html">allennlp.modules.matrix_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.augmented_lstm.html">allennlp.modules.augmented_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.lstm_cell_with_projection.html">allennlp.modules.lstm_cell_with_projection</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.elmo.html">allennlp.modules.elmo</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.elmo_lstm.html">allennlp.modules.elmo_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.language_model_heads.html">allennlp.modules.language_model_heads</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.conditional_random_field.html">allennlp.modules.conditional_random_field</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.feedforward.html">allennlp.modules.feedforward</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.highway.html">allennlp.modules.highway</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.matrix_attention.html">allennlp.modules.matrix_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.openai_transformer.html">allennlp.modules.openai_transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2seq_encoders.html">allennlp.modules.seq2seq_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2seq_decoders.html">allennlp.modules.seq2seq_decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2vec_encoders.html">allennlp.modules.seq2vec_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.span_extractors.html">allennlp.modules.span_extractors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.similarity_functions.html">allennlp.modules.similarity_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.stacked_alternating_lstm.html">allennlp.modules.stacked_alternating_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.stacked_bidirectional_lstm.html">allennlp.modules.stacked_bidirectional_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.text_field_embedders.html">allennlp.modules.text_field_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.time_distributed.html">allennlp.modules.time_distributed</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.token_embedders.html">allennlp.modules.token_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.scalar_mix.html">allennlp.modules.scalar_mix</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.layer_norm.html">allennlp.modules.layer_norm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.pruner.html">allennlp.modules.pruner</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.maxout.html">allennlp.modules.maxout</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.input_variational_dropout.html">allennlp.modules.input_variational_dropout</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.bimpm_matching.html">allennlp.modules.bimpm_matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.masked_layer_norm.html">allennlp.modules.masked_layer_norm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.sampled_softmax_loss.html">allennlp.modules.sampled_softmax_loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.residual_with_layer_dropout.html">allennlp.modules.residual_with_layer_dropout</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.nn.html">allennlp.nn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.activations.html">allennlp.nn.activations</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.chu_liu_edmonds.html">allennlp.nn.chu_liu_edmonds</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.initializers.html">allennlp.nn.initializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.regularizers.html">allennlp.nn.regularizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.util.html">allennlp.nn.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.beam_search.html">allennlp.nn.beam_search</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="allennlp.semparse.html">allennlp.semparse</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.common.html">allennlp.semparse.common</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">allennlp.semparse.contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.executors.html">allennlp.semparse.executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.type_declarations.html">allennlp.semparse.type_declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.worlds.html">allennlp.semparse.worlds</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.executors.html">allennlp.semparse.executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.domain_languages.html">allennlp.semparse.domain_languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.util.html">allennlp.semparse.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.service.html">allennlp.service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.server_simple.html">allennlp.service.server_simple</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.config_explorer.html">allennlp.service.config_explorer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.state_machines.html">allennlp.state_machines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.states.html">allennlp.state_machines.states</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.trainers.html">allennlp.state_machines.trainers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.transition_functions.html">allennlp.state_machines.transition_functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.tools.html">allennlp.tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.training.html">allennlp.training</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.callbacks.html">allennlp.training.callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.callback_trainer.html">allennlp.training.callback_trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.checkpointer.html">allennlp.training.checkpointer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.scheduler.html">allennlp.training.scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.learning_rate_schedulers.html">allennlp.training.learning_rate_schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.momentum_schedulers.html">allennlp.training.momentum_schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.metric_tracker.html">allennlp.training.metric_tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.metrics.html">allennlp.training.metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.moving_average.html">allennlp.training.moving_average</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.no_op_trainer.html">allennlp.training.no_op_trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.optimizers.html">allennlp.training.optimizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.tensorboard_writer.html">allennlp.training.tensorboard_writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer.html">allennlp.training.trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer_base.html">allennlp.training.trainer_base</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer_pieces.html">allennlp.training.trainer_pieces</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.util.html">allennlp.training.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.pretrained.html">allennlp.pretrained</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AllenNLP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="allennlp.semparse.html">allennlp.semparse</a> &raquo;</li>
        
      <li>allennlp.semparse.contexts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/allennlp.semparse.contexts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-allennlp.semparse.contexts">
<span id="allennlp-semparse-contexts"></span><h1>allennlp.semparse.contexts<a class="headerlink" href="#module-allennlp.semparse.contexts" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-allennlp.semparse.contexts.knowledge_graph"></span><p>A <code class="docutils literal notranslate"><span class="pre">KnowledgeGraph</span></code> is a graphical representation of some structured knowledge source: say a
table, figure or an explicit knowledge base.</p>
<dl class="class">
<dt id="allennlp.semparse.contexts.knowledge_graph.KnowledgeGraph">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.semparse.contexts.knowledge_graph.</code><code class="sig-name descname">KnowledgeGraph</code><span class="sig-paren">(</span><em class="sig-param">entities: Set[str], neighbors: Dict[str, List[str]], entity_text: Dict[str, str] = None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/knowledge_graph.py#L9-L47"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.knowledge_graph.KnowledgeGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A <code class="docutils literal notranslate"><span class="pre">KnowledgeGraph</span></code> represents a collection of entities and their relationships.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">KnowledgeGraph</span></code> currently stores (untyped) neighborhood information and text
representations of each entity (if there is any).</p>
<p>The knowledge base itself can be a table (like in WikitableQuestions), a figure (like in NLVR)
or some other structured knowledge source. This abstract class needs to be inherited for
implementing the functionality appropriate for a given KB.</p>
<p>All of the parameters listed below are stored as public attributes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>entities</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">Set[str]</span></code></span></dt><dd><p>The string identifiers of the entities in this knowledge graph.  We sort this set and store
it as a list.  The sorting is so that we get a guaranteed consistent ordering across
separate runs of the code.</p>
</dd>
<dt><strong>neighbors</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">Dict[str,</span> <span class="pre">List[str]]</span></code></span></dt><dd><p>A mapping from string identifiers to other string identifiers, denoting which entities are
neighbors in the graph.</p>
</dd>
<dt><strong>entity_text</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">Dict[str,</span> <span class="pre">str]</span></code></span></dt><dd><p>If you have additional text associated with each entity (other than its string identifier),
you can store that here.  This might be, e.g., the text in a table cell, or the description
of a wikipedia entity.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-allennlp.semparse.contexts.table_question_context"></span><dl class="class">
<dt id="allennlp.semparse.contexts.table_question_context.TableQuestionContext">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.semparse.contexts.table_question_context.</code><code class="sig-name descname">TableQuestionContext</code><span class="sig-paren">(</span><em class="sig-param">table_data: List[Dict[str, Union[str, float, allennlp.semparse.common.date.Date]]], column_name_type_mapping: Dict[str, Set[str]], column_names: Set[str], question_tokens: List[allennlp.data.tokenizers.token.Token]</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/table_question_context.py#L83-L515"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.table_question_context.TableQuestionContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Representation of table context similar to the one used by Memory Augmented Policy Optimization (MAPO, Liang et
al., 2018). Most of the functionality is a reimplementation of
<a class="reference external" href="https://github.com/crazydonkey200/neural-symbolic-machines/blob/master/table/wtq/preprocess.py">https://github.com/crazydonkey200/neural-symbolic-machines/blob/master/table/wtq/preprocess.py</a>
for extracting entities from a question given a table and type its columns with &lt;string&gt; | &lt;date&gt; | &lt;number&gt;</p>
<dl class="method">
<dt id="allennlp.semparse.contexts.table_question_context.TableQuestionContext.get_entities_from_question">
<code class="sig-name descname">get_entities_from_question</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; Tuple[List[Tuple[str, str]], List[Tuple[str, int]]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/table_question_context.py#L330-L357"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.table_question_context.TableQuestionContext.get_entities_from_question" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.table_question_context.TableQuestionContext.get_table_data_from_tagged_lines">
<em class="property">classmethod </em><code class="sig-name descname">get_table_data_from_tagged_lines</code><span class="sig-paren">(</span><em class="sig-param">lines: List[List[str]]</em><span class="sig-paren">)</span> &#x2192; Tuple[List[Dict[str, Dict[str, str]]], Dict[str, Set[str]]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/table_question_context.py#L166-L213"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.table_question_context.TableQuestionContext.get_table_data_from_tagged_lines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.table_question_context.TableQuestionContext.get_table_data_from_untagged_lines">
<em class="property">classmethod </em><code class="sig-name descname">get_table_data_from_untagged_lines</code><span class="sig-paren">(</span><em class="sig-param">lines: List[List[str]]</em><span class="sig-paren">)</span> &#x2192; Tuple[List[Dict[str, Dict[str, str]]], Dict[str, Set[str]]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/table_question_context.py#L215-L275"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.table_question_context.TableQuestionContext.get_table_data_from_untagged_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>This method will be called only when we do not have tagged information from CoreNLP. That is, when we are
running the parser on data outside the WikiTableQuestions dataset. We try to do the same processing that
CoreNLP does for WTQ, but what we do here may not be as effective.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.table_question_context.TableQuestionContext.get_table_knowledge_graph">
<code class="sig-name descname">get_table_knowledge_graph</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; allennlp.semparse.contexts.knowledge_graph.KnowledgeGraph<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/table_question_context.py#L117-L164"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.table_question_context.TableQuestionContext.get_table_knowledge_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.table_question_context.TableQuestionContext.normalize_string">
<em class="property">static </em><code class="sig-name descname">normalize_string</code><span class="sig-paren">(</span><em class="sig-param">string: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/table_question_context.py#L477-L515"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.table_question_context.TableQuestionContext.normalize_string" title="Permalink to this definition">¶</a></dt>
<dd><p>These are the transformation rules used to normalize cell in column names in Sempre.  See
<code class="docutils literal notranslate"><span class="pre">edu.stanford.nlp.sempre.tables.StringNormalizationUtils.characterNormalize</span></code> and
<code class="docutils literal notranslate"><span class="pre">edu.stanford.nlp.sempre.tables.TableTypeSystem.canonicalizeName</span></code>.  We reproduce those
rules here to normalize and canonicalize cells and columns in the same way so that we can
match them against constants in logical forms appropriately.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.table_question_context.TableQuestionContext.read_from_file">
<em class="property">classmethod </em><code class="sig-name descname">read_from_file</code><span class="sig-paren">(</span><em class="sig-param">filename: str, question_tokens: List[allennlp.data.tokenizers.token.Token]</em><span class="sig-paren">)</span> &#x2192; 'TableQuestionContext'<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/table_question_context.py#L323-L328"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.table_question_context.TableQuestionContext.read_from_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.table_question_context.TableQuestionContext.read_from_lines">
<em class="property">classmethod </em><code class="sig-name descname">read_from_lines</code><span class="sig-paren">(</span><em class="sig-param">lines: List, question_tokens: List[allennlp.data.tokenizers.token.Token]</em><span class="sig-paren">)</span> &#x2192; 'TableQuestionContext'<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/table_question_context.py#L277-L321"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.table_question_context.TableQuestionContext.read_from_lines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.semparse.contexts.atis_tables"></span><dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.am_map_match_to_query_value">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">am_map_match_to_query_value</code><span class="sig-paren">(</span><em class="sig-param">match: str</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L31-L35"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.am_map_match_to_query_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.convert_to_string_list_value_dict">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">convert_to_string_list_value_dict</code><span class="sig-paren">(</span><em class="sig-param">trigger_dict: Dict[str, int]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[str]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L319-L320"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.convert_to_string_list_value_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.digit_to_query_time">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">digit_to_query_time</code><span class="sig-paren">(</span><em class="sig-param">digit: str</em><span class="sig-paren">)</span> &#x2192; List[int]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L238-L247"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.digit_to_query_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a digit in the utterance, return a list of the times that it corresponds to.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_approximate_times">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_approximate_times</code><span class="sig-paren">(</span><em class="sig-param">times: List[int]</em><span class="sig-paren">)</span> &#x2192; List[int]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L249-L268"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_approximate_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of times that follow a word such as <code class="docutils literal notranslate"><span class="pre">about</span></code>,
we return a list of times that could appear in the query as a result
of this. For example if <code class="docutils literal notranslate"><span class="pre">about</span> <span class="pre">7pm</span></code> appears in the utterance, then
we also want to add <code class="docutils literal notranslate"><span class="pre">1830</span></code> and <code class="docutils literal notranslate"><span class="pre">1930</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_costs_from_utterance">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_costs_from_utterance</code><span class="sig-paren">(</span><em class="sig-param">utterance: str, tokenized_utterance: List[allennlp.data.tokenizers.token.Token]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[int]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L208-L217"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_costs_from_utterance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_date_from_utterance">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_date_from_utterance</code><span class="sig-paren">(</span><em class="sig-param">tokenized_utterance: List[allennlp.data.tokenizers.token.Token], year: int = 1993</em><span class="sig-paren">)</span> &#x2192; List[datetime.datetime]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L79-L126"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_date_from_utterance" title="Permalink to this definition">¶</a></dt>
<dd><p>When the year is not explicitly mentioned in the utterance, the query assumes that
it is 1993 so we do the same here. If there is no mention of the month or day then
we do not return any dates from the utterance.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_flight_numbers_from_utterance">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_flight_numbers_from_utterance</code><span class="sig-paren">(</span><em class="sig-param">utterance: str, tokenized_utterance: List[allennlp.data.tokenizers.token.Token]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[int]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L219-L236"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_flight_numbers_from_utterance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_numbers_from_utterance">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_numbers_from_utterance</code><span class="sig-paren">(</span><em class="sig-param">utterance: str, tokenized_utterance: List[allennlp.data.tokenizers.token.Token]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[int]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L128-L170"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_numbers_from_utterance" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an utterance, this function finds all the numbers that are in the action space. Since we need to
keep track of linking scores, we represent the numbers as a dictionary, where the keys are the string
representation of the number and the values are lists of the token indices that triggers that number.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_time_range_end_from_utterance">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_time_range_end_from_utterance</code><span class="sig-paren">(</span><em class="sig-param">utterance: str, tokenized_utterance: List[allennlp.data.tokenizers.token.Token]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[int]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L190-L206"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_time_range_end_from_utterance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_time_range_start_from_utterance">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_time_range_start_from_utterance</code><span class="sig-paren">(</span><em class="sig-param">utterance: str, tokenized_utterance: List[allennlp.data.tokenizers.token.Token]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[int]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L172-L188"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_time_range_start_from_utterance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_times_from_utterance">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_times_from_utterance</code><span class="sig-paren">(</span><em class="sig-param">utterance: str, char_offset_to_token_index: Dict[int, int], indices_of_approximate_words: Set[int]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[int]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L37-L77"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_times_from_utterance" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an utterance, we get the numbers that correspond to times and convert them to
values that may appear in the query. For example: convert <code class="docutils literal notranslate"><span class="pre">7pm</span></code> to <code class="docutils literal notranslate"><span class="pre">1900</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.get_trigger_dict">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">get_trigger_dict</code><span class="sig-paren">(</span><em class="sig-param">trigger_lists: List[List[str]], trigger_dicts: List[Dict[str, List[str]]]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[str]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L306-L317"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.get_trigger_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.atis_tables.pm_map_match_to_query_value">
<code class="sig-prename descclassname">allennlp.semparse.contexts.atis_tables.</code><code class="sig-name descname">pm_map_match_to_query_value</code><span class="sig-paren">(</span><em class="sig-param">match: str</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_tables.py#L19-L29"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_tables.pm_map_match_to_query_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-allennlp.semparse.contexts.atis_sql_table_context"></span><p>An <code class="docutils literal notranslate"><span class="pre">AtisSqlTableContext</span></code> represents the SQL context in which an utterance appears
for the Atis dataset, with the grammar and the valid actions.</p>
<dl class="class">
<dt id="allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.semparse.contexts.atis_sql_table_context.</code><code class="sig-name descname">AtisSqlTableContext</code><span class="sig-paren">(</span><em class="sig-param">all_tables: Dict[str</em>, <em class="sig-param">List[str]] = None</em>, <em class="sig-param">tables_with_strings: Dict[str</em>, <em class="sig-param">List[str]] = None</em>, <em class="sig-param">database_file: str = None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_sql_table_context.py#L81-L173"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An <code class="docutils literal notranslate"><span class="pre">AtisSqlTableContext</span></code> represents the SQL context with a grammar of SQL and the valid actions
based on the schema of the tables that it represents.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>all_tables: ``Dict[str, List[str]]``</strong></dt><dd><p>A dictionary representing the SQL tables in the dataset, the keys are the names of the tables
that map to lists of the table’s column names.</p>
</dd>
<dt><strong>tables_with_strings: ``Dict[str, List[str]]``</strong></dt><dd><p>A dictionary representing the SQL tables that we want to generate strings for. The keys are the
names of the tables that map to lists of the table’s column names.</p>
</dd>
<dt><strong>database_file</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code>, optional</span></dt><dd><p>The directory to find the sqlite database file. We query the sqlite database to find the strings
that are allowed.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext.create_grammar_dict_and_strings">
<code class="sig-name descname">create_grammar_dict_and_strings</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; Tuple[Dict[str, List[str]], List[Tuple[str, str]]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_sql_table_context.py#L125-L170"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext.create_grammar_dict_and_strings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext.get_grammar_dictionary">
<code class="sig-name descname">get_grammar_dictionary</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[str]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_sql_table_context.py#L119-L120"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext.get_grammar_dictionary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext.get_grammar_string">
<code class="sig-name descname">get_grammar_string</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_sql_table_context.py#L172-L173"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext.get_grammar_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext.get_valid_actions">
<code class="sig-name descname">get_valid_actions</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[str]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/atis_sql_table_context.py#L122-L123"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.atis_sql_table_context.AtisSqlTableContext.get_valid_actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.semparse.contexts.text2sql_table_context"></span><p>A <code class="docutils literal notranslate"><span class="pre">Text2SqlTableContext</span></code> represents the SQL context in which an utterance appears
for the any of the text2sql datasets, with the grammar and the valid actions.</p>
<dl class="function">
<dt id="allennlp.semparse.contexts.text2sql_table_context.update_grammar_numbers_and_strings_with_variables">
<code class="sig-prename descclassname">allennlp.semparse.contexts.text2sql_table_context.</code><code class="sig-name descname">update_grammar_numbers_and_strings_with_variables</code><span class="sig-paren">(</span><em class="sig-param">grammar_dictionary: Dict[str, List[str]], prelinked_entities: Dict[str, Dict[str, str]], columns: Dict[str, allennlp.data.dataset_readers.dataset_utils.text2sql_utils.TableColumn]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/text2sql_table_context.py#L204-L236"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.text2sql_table_context.update_grammar_numbers_and_strings_with_variables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.text2sql_table_context.update_grammar_to_be_variable_free">
<code class="sig-prename descclassname">allennlp.semparse.contexts.text2sql_table_context.</code><code class="sig-name descname">update_grammar_to_be_variable_free</code><span class="sig-paren">(</span><em class="sig-param">grammar_dictionary: Dict[str, List[str]]</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/text2sql_table_context.py#L145-L179"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.text2sql_table_context.update_grammar_to_be_variable_free" title="Permalink to this definition">¶</a></dt>
<dd><p>SQL is a predominately variable free language in terms of simple usage, in the
sense that most queries do not create references to variables which are not
already static tables in a dataset. However, it is possible to do this via
derived tables. If we don’t require this functionality, we can tighten the
grammar, because we don’t need to support aliased tables.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.text2sql_table_context.update_grammar_values_with_variables">
<code class="sig-prename descclassname">allennlp.semparse.contexts.text2sql_table_context.</code><code class="sig-name descname">update_grammar_values_with_variables</code><span class="sig-paren">(</span><em class="sig-param">grammar_dictionary: Dict[str, List[str]], prelinked_entities: Dict[str, Dict[str, str]]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/text2sql_table_context.py#L197-L201"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.text2sql_table_context.update_grammar_values_with_variables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.text2sql_table_context.update_grammar_with_global_values">
<code class="sig-prename descclassname">allennlp.semparse.contexts.text2sql_table_context.</code><code class="sig-name descname">update_grammar_with_global_values</code><span class="sig-paren">(</span><em class="sig-param">grammar_dictionary: Dict[str, List[str]], dataset_name: str</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/text2sql_table_context.py#L138-L142"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.text2sql_table_context.update_grammar_with_global_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.text2sql_table_context.update_grammar_with_table_values">
<code class="sig-prename descclassname">allennlp.semparse.contexts.text2sql_table_context.</code><code class="sig-name descname">update_grammar_with_table_values</code><span class="sig-paren">(</span><em class="sig-param">grammar_dictionary: Dict[str, List[str]], schema: Dict[str, List[allennlp.data.dataset_readers.dataset_utils.text2sql_utils.TableColumn]], cursor: sqlite3.Cursor</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/text2sql_table_context.py#L122-L135"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.text2sql_table_context.update_grammar_with_table_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.text2sql_table_context.update_grammar_with_tables">
<code class="sig-prename descclassname">allennlp.semparse.contexts.text2sql_table_context.</code><code class="sig-name descname">update_grammar_with_tables</code><span class="sig-paren">(</span><em class="sig-param">grammar_dictionary: Dict[str, List[str]], schema: Dict[str, List[allennlp.data.dataset_readers.dataset_utils.text2sql_utils.TableColumn]]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/text2sql_table_context.py#L110-L120"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.text2sql_table_context.update_grammar_with_tables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.text2sql_table_context.update_grammar_with_untyped_entities">
<code class="sig-prename descclassname">allennlp.semparse.contexts.text2sql_table_context.</code><code class="sig-name descname">update_grammar_with_untyped_entities</code><span class="sig-paren">(</span><em class="sig-param">grammar_dictionary: Dict[str, List[str]]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/text2sql_table_context.py#L181-L194"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.text2sql_table_context.update_grammar_with_untyped_entities" title="Permalink to this definition">¶</a></dt>
<dd><p>Variables can be treated as numbers or strings if their type can be inferred -
however, that can be difficult, so instead, we can just treat them all as values
and be a bit looser on the typing we allow in our grammar. Here we just remove
all references to number and string from the grammar, replacing them with value.</p>
</dd></dl>

<span class="target" id="module-allennlp.semparse.contexts.sql_context_utils"></span><dl class="class">
<dt id="allennlp.semparse.contexts.sql_context_utils.SqlVisitor">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.semparse.contexts.sql_context_utils.</code><code class="sig-name descname">SqlVisitor</code><span class="sig-paren">(</span><em class="sig-param">grammar: parsimonious.grammar.Grammar</em>, <em class="sig-param">keywords_to_uppercase: List[str] = None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/sql_context_utils.py#L130-L215"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.sql_context_utils.SqlVisitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parsimonious.nodes.NodeVisitor</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">SqlVisitor</span></code> performs a depth-first traversal of the the AST. It takes the parse tree
and gives us an action sequence that resulted in that parse. Since the visitor has mutable
state, we define a new <code class="docutils literal notranslate"><span class="pre">SqlVisitor</span></code> for each query. To get the action sequence, we create
a <code class="docutils literal notranslate"><span class="pre">SqlVisitor</span></code> and call parse on it, which returns a list of actions. Ex.</p>
<blockquote>
<div><p>sql_visitor = SqlVisitor(grammar_string)
action_sequence = sql_visitor.parse(query)</p>
</div></blockquote>
<p>Importantly, this <code class="docutils literal notranslate"><span class="pre">SqlVisitor</span></code> skips over <code class="docutils literal notranslate"><span class="pre">ws</span></code> and <code class="docutils literal notranslate"><span class="pre">wsp</span></code> nodes,
because they do not hold any meaning, and make an action sequence
much longer than it needs to be.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>grammar</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">Grammar</span></code></span></dt><dd><p>A Grammar object that we use to parse the text.</p>
</dd>
<dt><strong>keywords_to_uppercase: ``List[str]``, optional, (default = None)</strong></dt><dd><p>Keywords in the grammar to uppercase. In the case of sql,
this might be SELECT, MAX etc.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="allennlp.semparse.contexts.sql_context_utils.SqlVisitor.add_action">
<code class="sig-name descname">add_action</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">node: parsimonious.nodes.Node</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/sql_context_utils.py#L164-L191"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.sql_context_utils.SqlVisitor.add_action" title="Permalink to this definition">¶</a></dt>
<dd><p>For each node, we accumulate the rules that generated its children in a list.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.sql_context_utils.SqlVisitor.generic_visit">
<code class="sig-name descname">generic_visit</code><span class="sig-paren">(</span><em class="sig-param">self, node: parsimonious.nodes.Node, visited_children: List[NoneType]</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/sql_context_utils.py#L157-L162"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.sql_context_utils.SqlVisitor.generic_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Default visitor method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – The node we’re visiting</p></li>
<li><p><strong>visited_children</strong> – The results of visiting the children of that
node, in a list</p></li>
</ul>
</dd>
</dl>
<p>I’m not sure there’s an implementation of this that makes sense across
all (or even most) use cases, so we leave it to subclasses to implement
for now.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.semparse.contexts.sql_context_utils.SqlVisitor.visit">
<code class="sig-name descname">visit</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/sql_context_utils.py#L193-L215"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.sql_context_utils.SqlVisitor.visit" title="Permalink to this definition">¶</a></dt>
<dd><p>See the <code class="docutils literal notranslate"><span class="pre">NodeVisitor</span></code> visit method. This just changes the order in which
we visit nonterminals from right to left to left to right.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.sql_context_utils.action_sequence_to_sql">
<code class="sig-prename descclassname">allennlp.semparse.contexts.sql_context_utils.</code><code class="sig-name descname">action_sequence_to_sql</code><span class="sig-paren">(</span><em class="sig-param">action_sequences: List[str]</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/sql_context_utils.py#L111-L127"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.sql_context_utils.action_sequence_to_sql" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.sql_context_utils.format_action">
<code class="sig-prename descclassname">allennlp.semparse.contexts.sql_context_utils.</code><code class="sig-name descname">format_action</code><span class="sig-paren">(</span><em class="sig-param">nonterminal: str</em>, <em class="sig-param">right_hand_side: str</em>, <em class="sig-param">is_string: bool = False</em>, <em class="sig-param">is_number: bool = False</em>, <em class="sig-param">keywords_to_uppercase: List[str] = None</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/sql_context_utils.py#L64-L109"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.sql_context_utils.format_action" title="Permalink to this definition">¶</a></dt>
<dd><p>This function formats an action as it appears in models. It
splits productions based on the special <cite>ws</cite> and <cite>wsp</cite> rules,
which are used in grammars to denote whitespace, and then
rejoins these tokens a formatted, comma separated list.
Importantly, note that it <cite>does not</cite> split on spaces in
the grammar string, because these might not correspond
to spaces in the language the grammar recognises.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nonterminal</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code>, required.</span></dt><dd><p>The nonterminal in the action.</p>
</dd>
<dt><strong>right_hand_side</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code>, required.</span></dt><dd><p>The right hand side of the action
(i.e the thing which is produced).</p>
</dd>
<dt><strong>is_string</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, optional (default = False).</span></dt><dd><p>Whether the production produces a string.
If it does, it is formatted as <code class="docutils literal notranslate"><span class="pre">nonterminal</span> <span class="pre">-&gt;</span> <span class="pre">['string']</span></code></p>
</dd>
<dt><strong>is_number</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, optional, (default = False).</span></dt><dd><p>Whether the production produces a string.
If it does, it is formatted as <code class="docutils literal notranslate"><span class="pre">nonterminal</span> <span class="pre">-&gt;</span> <span class="pre">['number']</span></code></p>
</dd>
<dt><strong>keywords_to_uppercase: ``List[str]``, optional, (default = None)</strong></dt><dd><p>Keywords in the grammar to uppercase. In the case of sql,
this might be SELECT, MAX etc.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.sql_context_utils.format_grammar_string">
<code class="sig-prename descclassname">allennlp.semparse.contexts.sql_context_utils.</code><code class="sig-name descname">format_grammar_string</code><span class="sig-paren">(</span><em class="sig-param">grammar_dictionary: Dict[str, List[str]]</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/sql_context_utils.py#L16-L23"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.sql_context_utils.format_grammar_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats a dictionary of production rules into the string format expected
by the Parsimonious Grammar class.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.sql_context_utils.initialize_valid_actions">
<code class="sig-prename descclassname">allennlp.semparse.contexts.sql_context_utils.</code><code class="sig-name descname">initialize_valid_actions</code><span class="sig-paren">(</span><em class="sig-param">grammar: parsimonious.grammar.Grammar</em>, <em class="sig-param">keywords_to_uppercase: List[str] = None</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[str]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/sql_context_utils.py#L26-L61"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.sql_context_utils.initialize_valid_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>We initialize the valid actions with the global actions. These include the
valid actions that result from the grammar and also those that result from
the tables provided. The keys represent the nonterminals in the grammar
and the values are lists of the valid actions of that nonterminal.</p>
</dd></dl>

<span class="target" id="module-allennlp.semparse.contexts.quarel_utils"></span><dl class="class">
<dt id="allennlp.semparse.contexts.quarel_utils.WorldTaggerExtractor">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">WorldTaggerExtractor</code><span class="sig-paren">(</span><em class="sig-param">tagger_archive</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L327-L347"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.WorldTaggerExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="allennlp.semparse.contexts.quarel_utils.WorldTaggerExtractor.get_world_entities">
<code class="sig-name descname">get_world_entities</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">question: str</em>, <em class="sig-param">tokenized_question: List[allennlp.data.tokenizers.token.Token] = None</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[str]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L335-L347"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.WorldTaggerExtractor.get_world_entities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.align_entities">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">align_entities</code><span class="sig-paren">(</span><em class="sig-param">extracted: List[str], literals: Dict[str, Any], stemmer: nltk.stem.porter.PorterStemmer</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L360-L378"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.align_entities" title="Permalink to this definition">¶</a></dt>
<dd><p>Use stemming to attempt alignment between extracted world and given world literals.
If more words align to one world vs the other, it’s considered aligned.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.delete_duplicates">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">delete_duplicates</code><span class="sig-paren">(</span><em class="sig-param">expr: List</em><span class="sig-paren">)</span> &#x2192; List<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L265-L272"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.delete_duplicates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.from_bio">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">from_bio</code><span class="sig-paren">(</span><em class="sig-param">tags: List[str], target: str</em><span class="sig-paren">)</span> &#x2192; List[Tuple[int, int]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L245-L262"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.from_bio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.from_entity_cues_string">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">from_entity_cues_string</code><span class="sig-paren">(</span><em class="sig-param">cues_string: str</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[str]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L232-L242"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.from_entity_cues_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.from_qr_spec_string">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">from_qr_spec_string</code><span class="sig-paren">(</span><em class="sig-param">qr_spec: str</em><span class="sig-paren">)</span> &#x2192; List[Dict[str, int]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L196-L212"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.from_qr_spec_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.get_explanation">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">get_explanation</code><span class="sig-paren">(</span><em class="sig-param">logical_form: str, world_extractions: Dict[str, Any], answer_index: int, world: allennlp.semparse.worlds.quarel_world.QuarelWorld</em><span class="sig-paren">)</span> &#x2192; List[Dict[str, Any]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L126-L182"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.get_explanation" title="Permalink to this definition">¶</a></dt>
<dd><p>Create explanation (as a list of header/content entries) for an answer</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.get_stem_overlaps">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">get_stem_overlaps</code><span class="sig-paren">(</span><em class="sig-param">query: str, references: List[str], stemmer: nltk.stem.porter.PorterStemmer</em><span class="sig-paren">)</span> &#x2192; List[int]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L354-L357"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.get_stem_overlaps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.get_words">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">get_words</code><span class="sig-paren">(</span><em class="sig-param">string: str</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L350-L351"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.get_words" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.group_worlds">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">group_worlds</code><span class="sig-paren">(</span><em class="sig-param">tags: List[str], tokens: List[str]</em><span class="sig-paren">)</span> &#x2192; Dict[str, List[str]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L275-L324"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.group_worlds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.nl_arg">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">nl_arg</code><span class="sig-paren">(</span><em class="sig-param">arg: Any, nl_world: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; Any<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L89-L93"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.nl_arg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.nl_attr">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">nl_attr</code><span class="sig-paren">(</span><em class="sig-param">attr: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L96-L97"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.nl_attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.nl_dir">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">nl_dir</code><span class="sig-paren">(</span><em class="sig-param">sign: int</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L100-L104"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.nl_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.nl_triple">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">nl_triple</code><span class="sig-paren">(</span><em class="sig-param">triple: List[str], nl_world: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L85-L86"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.nl_triple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.nl_world_string">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">nl_world_string</code><span class="sig-paren">(</span><em class="sig-param">world: List[str]</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L107-L108"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.nl_world_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.split_question">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">split_question</code><span class="sig-paren">(</span><em class="sig-param">question: str</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L81-L82"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.split_question" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.str_join">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">str_join</code><span class="sig-paren">(</span><em class="sig-param">string_or_list: Union[str, List[str]], joiner: str, prefixes: str = '', postfixes: str = ''</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L115-L123"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.str_join" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.strip_entity_type">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">strip_entity_type</code><span class="sig-paren">(</span><em class="sig-param">entity: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L111-L112"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.strip_entity_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.to_camel">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">to_camel</code><span class="sig-paren">(</span><em class="sig-param">string: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L192-L193"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.to_camel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.to_qr_spec_string">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">to_qr_spec_string</code><span class="sig-paren">(</span><em class="sig-param">qr_coeff_sets: List[Dict[str, int]]</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L215-L229"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.to_qr_spec_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.semparse.contexts.quarel_utils.words_from_entity_string">
<code class="sig-prename descclassname">allennlp.semparse.contexts.quarel_utils.</code><code class="sig-name descname">words_from_entity_string</code><span class="sig-paren">(</span><em class="sig-param">entity: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/semparse/contexts/quarel_utils.py#L75-L78"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.semparse.contexts.quarel_utils.words_from_entity_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="allennlp.semparse.executors.html" class="btn btn-neutral float-right" title="allennlp.semparse.executors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="allennlp.semparse.common.html" class="btn btn-neutral float-left" title="allennlp.semparse.common" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Allen Institute for Artificial Intelligence

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>