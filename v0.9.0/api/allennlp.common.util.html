

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>allennlp.common.util &mdash; AllenNLP 0.9.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="allennlp.data" href="allennlp.data.html" />
    <link rel="prev" title="allennlp.common.checks" href="allennlp.common.tqdm.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/allennlp-logo-dark.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="allennlp.commands.html">allennlp.commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.subcommand.html">allennlp.commands.subcommand</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.configure.html">allennlp.commands.configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.evaluate.html">allennlp.commands.evaluate</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.make_vocab.html">allennlp.commands.make_vocab</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.predict.html">allennlp.commands.predict</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.train.html">allennlp.commands.train</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.fine_tune.html">allennlp.commands.fine_tune</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.elmo.html">allennlp.commands.elmo</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.dry_run.html">allennlp.commands.dry_run</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.find_learning_rate.html">allennlp.commands.find_learning_rate</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.test_install.html">allennlp.commands.test_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.print_results.html">allennlp.commands.print_results</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="allennlp.common.html">allennlp.common</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.checks.html">allennlp.common.checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.configuration.html">allennlp.common.configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.file_utils.html">allennlp.common.file_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.from_params.html">allennlp.common.from_params</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.params.html">allennlp.common.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.registrable.html">allennlp.common.registrable</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.tee_logger.html">allennlp.common.tee_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.testing.html">allennlp.common.testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.tqdm.html">allennlp.common.checks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">allennlp.common.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.data.html">allennlp.data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset.html">allennlp.data.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset_readers.html">allennlp.data.dataset_readers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.dataset_reader.html">allennlp.data.dataset_readers.dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.dataset_utils.html">allennlp.data.dataset_readers.dataset_utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.babi.html">allennlp.data.dataset_readers.babi</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.ccgbank.html">allennlp.data.dataset_readers.ccgbank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.conll2000.html">allennlp.data.dataset_readers.conll2000</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.conll2003.html">allennlp.data.dataset_readers.conll2003</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.coreference_resolution.html">allennlp.data.dataset_readers.coreference_resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.event2mind.html">allennlp.data.dataset_readers.event2mind</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.interleaving_dataset_reader.html">allennlp.data.dataset_readers.interleaving_dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.language_modeling.html">allennlp.data.dataset_readers.language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.masked_language_modeling.html">allennlp.data.dataset_readers.masked_language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.multiprocess_dataset_reader.html">allennlp.data.dataset_readers.multiprocess_dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.next_token_lm.html">allennlp.data.dataset_readers.next_token_lm</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.ontonotes_ner.html">allennlp.data.dataset_readers.ontonotes_ner</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.penn_tree_bank.html">allennlp.data.dataset_readers.penn_tree_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.quora_paraphrase.html">allennlp.data.dataset_readers.quora_paraphrase</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.reading_comprehension.html">allennlp.data.dataset_readers.reading_comprehension</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_dependency_parsing.html">allennlp.data.dataset_readers.semantic_dependency_parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_parsing.html">allennlp.data.dataset_readers.semantic_parsing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_parsing.wikitables.html">allennlp.data.dataset_readers.semantic_parsing.wikitables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_role_labeling.html">allennlp.data.dataset_readers.semantic_role_labeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.seq2seq.html">allennlp.data.dataset_readers.seq2seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.sequence_tagging.html">allennlp.data.dataset_readers.sequence_tagging</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.simple_language_modeling.html">allennlp.data.dataset_readers.simple_language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.snli.html">allennlp.data.dataset_readers.snli</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.stanford_sentiment_tree_bank.html">allennlp.data.dataset_readers.stanford_sentiment_tree_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.universal_dependencies.html">allennlp.data.dataset_readers.universal_dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.universal_dependencies_multilang.html">allennlp.data.dataset_readers.universal_dependencies_multilang</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.quora_paraphrase.html">allennlp.data.dataset_readers.quora_paraphrase</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.copynet_seq2seq.html">allennlp.data.dataset_readers.copynet_seq2seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.text_classification_json.html">allennlp.data.dataset_readers.text_classification_json</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.fields.html">allennlp.data.fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.instance.html">allennlp.data.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.iterators.html">allennlp.data.iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.token_indexers.html">allennlp.data.token_indexers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.tokenizers.html">allennlp.data.tokenizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.vocabulary.html">allennlp.data.vocabulary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.interpret.html">allennlp.interpret</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.interpret.attackers.html">allennlp.interpret.attackers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.interpret.saliency_interpreters.html">allennlp.interpret.saliency_interpreters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.models.html">allennlp.models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.model.html">allennlp.models.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.archival.html">allennlp.models.archival</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.basic_classifier.html">allennlp.models.basic_classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.bert_for_classification.html">allennlp.models.bert_for_classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biaffine_dependency_parser.html">allennlp.models.biaffine_dependency_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biaffine_dependency_parser_multilang.html">allennlp.models.biaffine_dependency_parser_multilang</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biattentive_classification_network.html">allennlp.models.biattentive_classification_network</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.bimpm.html">allennlp.models.bimpm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.constituency_parser.html">allennlp.models.constituency_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.coreference_resolution.html">allennlp.models.coreference_resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.crf_tagger.html">allennlp.models.crf_tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.decomposable_attention.html">allennlp.models.decomposable_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.encoder_decoders.html">allennlp.models.encoder_decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.ensemble.html">allennlp.models.ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.esim.html">allennlp.models.esim</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.event2mind.html">allennlp.models.event2mind</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.graph_parser.html">allennlp.models.graph_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.language_model.html">allennlp.models.language_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.masked_language_model.html">allennlp.models.masked_language_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.next_token_lm.html">allennlp.models.next_token_lm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.reading_comprehension.html">allennlp.models.reading_comprehension</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.semantic_parsing.html">allennlp.models.semantic_parsing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.nlvr.html">allennlp.models.semantic_parsing.nlvr</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.wikitables.html">allennlp.models.semantic_parsing.wikitables</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.atis.html">allennlp.models.semantic_parsing.atis</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.quarel.html">allennlp.models.semantic_parsing.quarel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.semantic_role_labeler.html">allennlp.models.semantic_role_labeler</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.simple_tagger.html">allennlp.models.simple_tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.srl_bert.html">allennlp.models.srl_bert</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.srl_util.html">allennlp.models.srl_util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.predictors.html">allennlp.predictors</a></li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.modules.html">allennlp.modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.attention.html">allennlp.modules.attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.matrix_attention.html">allennlp.modules.matrix_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.augmented_lstm.html">allennlp.modules.augmented_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.lstm_cell_with_projection.html">allennlp.modules.lstm_cell_with_projection</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.elmo.html">allennlp.modules.elmo</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.elmo_lstm.html">allennlp.modules.elmo_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.language_model_heads.html">allennlp.modules.language_model_heads</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.conditional_random_field.html">allennlp.modules.conditional_random_field</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.feedforward.html">allennlp.modules.feedforward</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.highway.html">allennlp.modules.highway</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.matrix_attention.html">allennlp.modules.matrix_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.openai_transformer.html">allennlp.modules.openai_transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2seq_encoders.html">allennlp.modules.seq2seq_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2seq_decoders.html">allennlp.modules.seq2seq_decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2vec_encoders.html">allennlp.modules.seq2vec_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.span_extractors.html">allennlp.modules.span_extractors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.similarity_functions.html">allennlp.modules.similarity_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.stacked_alternating_lstm.html">allennlp.modules.stacked_alternating_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.stacked_bidirectional_lstm.html">allennlp.modules.stacked_bidirectional_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.text_field_embedders.html">allennlp.modules.text_field_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.time_distributed.html">allennlp.modules.time_distributed</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.token_embedders.html">allennlp.modules.token_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.scalar_mix.html">allennlp.modules.scalar_mix</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.layer_norm.html">allennlp.modules.layer_norm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.pruner.html">allennlp.modules.pruner</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.maxout.html">allennlp.modules.maxout</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.input_variational_dropout.html">allennlp.modules.input_variational_dropout</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.bimpm_matching.html">allennlp.modules.bimpm_matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.masked_layer_norm.html">allennlp.modules.masked_layer_norm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.sampled_softmax_loss.html">allennlp.modules.sampled_softmax_loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.residual_with_layer_dropout.html">allennlp.modules.residual_with_layer_dropout</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.nn.html">allennlp.nn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.activations.html">allennlp.nn.activations</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.chu_liu_edmonds.html">allennlp.nn.chu_liu_edmonds</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.initializers.html">allennlp.nn.initializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.regularizers.html">allennlp.nn.regularizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.util.html">allennlp.nn.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.beam_search.html">allennlp.nn.beam_search</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.semparse.html">allennlp.semparse</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.common.html">allennlp.semparse.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.contexts.html">allennlp.semparse.contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.executors.html">allennlp.semparse.executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.type_declarations.html">allennlp.semparse.type_declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.worlds.html">allennlp.semparse.worlds</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.executors.html">allennlp.semparse.executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.domain_languages.html">allennlp.semparse.domain_languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.util.html">allennlp.semparse.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.service.html">allennlp.service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.server_simple.html">allennlp.service.server_simple</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.config_explorer.html">allennlp.service.config_explorer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.state_machines.html">allennlp.state_machines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.states.html">allennlp.state_machines.states</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.trainers.html">allennlp.state_machines.trainers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.transition_functions.html">allennlp.state_machines.transition_functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.tools.html">allennlp.tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.training.html">allennlp.training</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.callbacks.html">allennlp.training.callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.callback_trainer.html">allennlp.training.callback_trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.checkpointer.html">allennlp.training.checkpointer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.scheduler.html">allennlp.training.scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.learning_rate_schedulers.html">allennlp.training.learning_rate_schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.momentum_schedulers.html">allennlp.training.momentum_schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.metric_tracker.html">allennlp.training.metric_tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.metrics.html">allennlp.training.metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.moving_average.html">allennlp.training.moving_average</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.no_op_trainer.html">allennlp.training.no_op_trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.optimizers.html">allennlp.training.optimizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.tensorboard_writer.html">allennlp.training.tensorboard_writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer.html">allennlp.training.trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer_base.html">allennlp.training.trainer_base</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer_pieces.html">allennlp.training.trainer_pieces</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.util.html">allennlp.training.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.pretrained.html">allennlp.pretrained</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AllenNLP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="allennlp.common.html">allennlp.common</a> &raquo;</li>
        
      <li>allennlp.common.util</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/allennlp.common.util.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-allennlp.common.util">
<span id="allennlp-common-util"></span><h1>allennlp.common.util<a class="headerlink" href="#module-allennlp.common.util" title="Permalink to this headline">¶</a></h1>
<p>Various utilities that don’t fit anwhere else.</p>
<dl class="function">
<dt id="allennlp.common.util.add_noise_to_dict_values">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">add_noise_to_dict_values</code><span class="sig-paren">(</span><em class="sig-param">dictionary: Dict[~A, float], noise_param: float</em><span class="sig-paren">)</span> &#x2192; Dict[~A, float]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L150-L161"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.add_noise_to_dict_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new dictionary with noise added to every key in <code class="docutils literal notranslate"><span class="pre">dictionary</span></code>.  The noise is
uniformly distributed within <code class="docutils literal notranslate"><span class="pre">noise_param</span></code> percent of the value for every value in the
dictionary.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.cleanup_global_logging">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">cleanup_global_logging</code><span class="sig-paren">(</span><em class="sig-param">stdout_handler: logging.FileHandler</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L252-L267"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.cleanup_global_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>This function closes any open file handles and logs set up by <cite>prepare_global_logging</cite>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>stdout_handler</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">logging.FileHandler</span></code>, required.</span></dt><dd><p>The file handler returned from <cite>prepare_global_logging</cite>, attached to the global logger.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.dump_metrics">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">dump_metrics</code><span class="sig-paren">(</span><em class="sig-param">file_path: str, metrics: Dict[str, Any], log: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L418-L423"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.dump_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.common.util.ensure_list">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">ensure_list</code><span class="sig-paren">(</span><em class="sig-param">iterable: Iterable[~A]</em><span class="sig-paren">)</span> &#x2192; List[~A]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L391-L399"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.ensure_list" title="Permalink to this definition">¶</a></dt>
<dd><p>An Iterable may be a list or a generator.
This ensures we get a list without making an unnecessary copy.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.flatten_filename">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">flatten_filename</code><span class="sig-paren">(</span><em class="sig-param">file_path: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L425-L426"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.flatten_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.common.util.get_frozen_and_tunable_parameter_names">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">get_frozen_and_tunable_parameter_names</code><span class="sig-paren">(</span><em class="sig-param">model: torch.nn.modules.module.Module</em><span class="sig-paren">)</span> &#x2192; List<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L408-L416"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.get_frozen_and_tunable_parameter_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allennlp.common.util.get_spacy_model">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">get_spacy_model</code><span class="sig-paren">(</span><em class="sig-param">spacy_model_name: str</em>, <em class="sig-param">pos_tags: bool</em>, <em class="sig-param">parse: bool</em>, <em class="sig-param">ner: bool</em><span class="sig-paren">)</span> &#x2192; spacy.language.Language<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L272-L306"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.get_spacy_model" title="Permalink to this definition">¶</a></dt>
<dd><p>In order to avoid loading spacy models a whole bunch of times, we’ll save references to them,
keyed by the options we used to create the spacy model, so any particular configuration only
gets loaded once.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.gpu_memory_mb">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">gpu_memory_mb</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict[int, int]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L362-L388"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.gpu_memory_mb" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current GPU memory usage.
Based on <a class="reference external" href="https://discuss.pytorch.org/t/access-gpu-memory-usage-in-pytorch/3192/4">https://discuss.pytorch.org/t/access-gpu-memory-usage-in-pytorch/3192/4</a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Dict[int,</span> <span class="pre">int]</span></code></dt><dd><p>Keys are device ids as integers.
Values are memory usage as integers in MB.
Returns an empty <code class="docutils literal notranslate"><span class="pre">dict</span></code> if GPUs are not available.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.group_by_count">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">group_by_count</code><span class="sig-paren">(</span><em class="sig-param">iterable: List[Any], count: int, default_value: Any</em><span class="sig-paren">)</span> &#x2192; List[List[Any]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L83-L95"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.group_by_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list and groups it into sublists of size <code class="docutils literal notranslate"><span class="pre">count</span></code>, using <code class="docutils literal notranslate"><span class="pre">default_value</span></code> to pad the
list at the end if the list is not divisable by <code class="docutils literal notranslate"><span class="pre">count</span></code>.</p>
<p>For example:
&gt;&gt;&gt; group_by_count([1, 2, 3, 4, 5, 6, 7], 3, 0)
[[1, 2, 3], [4, 5, 6], [7, 0, 0]]</p>
<p>This is a short method, but it’s complicated and hard to remember as a one-liner, so we just
make a function out of it.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.import_submodules">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">import_submodules</code><span class="sig-paren">(</span><em class="sig-param">package_name: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L308-L334"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.import_submodules" title="Permalink to this definition">¶</a></dt>
<dd><p>Import all submodules under the given package.
Primarily useful so that people using AllenNLP as a library
can specify their own custom packages and have their custom
classes get loaded and registered.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.is_lazy">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">is_lazy</code><span class="sig-paren">(</span><em class="sig-param">iterable: Iterable[~A]</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L401-L406"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.is_lazy" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the given iterable is lazy,
which here just means it’s not a list.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.lazy_groups_of">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">lazy_groups_of</code><span class="sig-paren">(</span><em class="sig-param">iterator: Iterator[~A], group_size: int</em><span class="sig-paren">)</span> &#x2192; Iterator[List[~A]]<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L99-L104"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.lazy_groups_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an iterator and batches the individual instances into lists of the
specified size. The last list may be smaller if there are instances left over.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.namespace_match">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">namespace_match</code><span class="sig-paren">(</span><em class="sig-param">pattern: str</em>, <em class="sig-param">namespace: str</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L164-L174"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.namespace_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Matches a namespace pattern against a namespace string.  For example, <code class="docutils literal notranslate"><span class="pre">*tags</span></code> matches
<code class="docutils literal notranslate"><span class="pre">passage_tags</span></code> and <code class="docutils literal notranslate"><span class="pre">question_tags</span></code> and <code class="docutils literal notranslate"><span class="pre">tokens</span></code> matches <code class="docutils literal notranslate"><span class="pre">tokens</span></code> but not
<code class="docutils literal notranslate"><span class="pre">stemmed_tokens</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.pad_sequence_to_length">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">pad_sequence_to_length</code><span class="sig-paren">(</span><em class="sig-param">sequence: List</em>, <em class="sig-param">desired_length: int</em>, <em class="sig-param">default_value: Callable[[]</em>, <em class="sig-param">Any] = &lt;function &lt;lambda&gt; at 0x10dd2fc20&gt;</em>, <em class="sig-param">padding_on_right: bool = True</em><span class="sig-paren">)</span> &#x2192; List<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L106-L147"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.pad_sequence_to_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a list of objects and pads it to the desired length, returning the padded list.  The
original list is not modified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sequence</strong><span class="classifier">List</span></dt><dd><p>A list of objects to be padded.</p>
</dd>
<dt><strong>desired_length</strong><span class="classifier">int</span></dt><dd><p>Maximum length of each sequence. Longer sequences are truncated to this length, and
shorter ones are padded to it.</p>
</dd>
<dt><strong>default_value: Callable, default=lambda: 0</strong></dt><dd><p>Callable that outputs a default value (of any type) to use as padding values.  This is
a lambda to avoid using the same object when the default value is more complex, like a
list.</p>
</dd>
<dt><strong>padding_on_right</strong><span class="classifier">bool, default=True</span></dt><dd><p>When we add padding tokens (or truncate the sequence), should we do it on the right or
the left?</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>padded_sequence</strong><span class="classifier">List</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.peak_memory_mb">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">peak_memory_mb</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L337-L360"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.peak_memory_mb" title="Permalink to this definition">¶</a></dt>
<dd><p>Get peak memory usage for this process, as measured by
max-resident-set size:</p>
<p><a class="reference external" href="https://unix.stackexchange.com/questions/30940/getrusage-system-call-what-is-maximum-resident-set-size">https://unix.stackexchange.com/questions/30940/getrusage-system-call-what-is-maximum-resident-set-size</a></p>
<p>Only works on OSX and Linux, returns 0.0 otherwise.</p>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.prepare_environment">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">prepare_environment</code><span class="sig-paren">(</span><em class="sig-param">params: allennlp.common.params.Params</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L177-L206"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.prepare_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets random seeds for reproducible experiments. This may not work as expected
if you use this from within a python project in which you have already imported Pytorch.
If you use the scripts/run_model.py entry point to training models with this library,
your experiments should be reasonably reproducible. If you are using this from your own
project, you will want to call this function before importing Pytorch. Complete determinism
is very difficult to achieve with libraries doing optimized linear algebra due to massively
parallel execution, which is exacerbated by using GPUs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>params: Params object or dict, required.</strong></dt><dd><p>A <code class="docutils literal notranslate"><span class="pre">Params</span></code> object or dict holding the json parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.prepare_global_logging">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">prepare_global_logging</code><span class="sig-paren">(</span><em class="sig-param">serialization_dir: str</em>, <em class="sig-param">file_friendly_logging: bool</em><span class="sig-paren">)</span> &#x2192; logging.FileHandler<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L208-L250"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.prepare_global_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>This function configures 3 global logging attributes - streaming stdout and stderr
to a file as well as the terminal, setting the formatting for the python logging
library and setting the interval frequency for the Tqdm progress bar.</p>
<p>Note that this function does not set the logging level, which is set in <code class="docutils literal notranslate"><span class="pre">allennlp/run.py</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>serialization_dir</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code>, required.</span></dt><dd><p>The directory to stream logs to.</p>
</dd>
<dt><strong>file_friendly_logging</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, required.</span></dt><dd><p>Whether logs should clean the output to prevent carriage returns
(used to update progress bars on a single terminal line). This
option is typically only used if you are running in an environment
without a terminal.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">logging.FileHandler</span></code></dt><dd><p>A logging file handler that can later be closed and removed from the global logger.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="allennlp.common.util.sanitize">
<code class="sig-prename descclassname">allennlp.common.util.</code><code class="sig-name descname">sanitize</code><span class="sig-paren">(</span><em class="sig-param">x: Any</em><span class="sig-paren">)</span> &#x2192; Any<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/common/util.py#L48-L81"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.common.util.sanitize" title="Permalink to this definition">¶</a></dt>
<dd><p>Sanitize turns PyTorch and Numpy types into basic Python types so they
can be serialized into JSON.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="allennlp.data.html" class="btn btn-neutral float-right" title="allennlp.data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="allennlp.common.tqdm.html" class="btn btn-neutral float-left" title="allennlp.common.checks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Allen Institute for Artificial Intelligence

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>