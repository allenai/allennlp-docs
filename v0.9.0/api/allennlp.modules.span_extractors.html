

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>allennlp.modules.span_extractors &mdash; AllenNLP 0.9.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="allennlp.modules.similarity_functions" href="allennlp.modules.similarity_functions.html" />
    <link rel="prev" title="allennlp.modules.seq2vec_encoders" href="allennlp.modules.seq2vec_encoders.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/allennlp-logo-dark.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="allennlp.commands.html">allennlp.commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.subcommand.html">allennlp.commands.subcommand</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.configure.html">allennlp.commands.configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.evaluate.html">allennlp.commands.evaluate</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.make_vocab.html">allennlp.commands.make_vocab</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.predict.html">allennlp.commands.predict</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.train.html">allennlp.commands.train</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.fine_tune.html">allennlp.commands.fine_tune</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.elmo.html">allennlp.commands.elmo</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.dry_run.html">allennlp.commands.dry_run</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.find_learning_rate.html">allennlp.commands.find_learning_rate</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.test_install.html">allennlp.commands.test_install</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.print_results.html">allennlp.commands.print_results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.common.html">allennlp.common</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.checks.html">allennlp.common.checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.configuration.html">allennlp.common.configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.file_utils.html">allennlp.common.file_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.from_params.html">allennlp.common.from_params</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.params.html">allennlp.common.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.registrable.html">allennlp.common.registrable</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.tee_logger.html">allennlp.common.tee_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.testing.html">allennlp.common.testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.tqdm.html">allennlp.common.checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.util.html">allennlp.common.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.data.html">allennlp.data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset.html">allennlp.data.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset_readers.html">allennlp.data.dataset_readers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.dataset_reader.html">allennlp.data.dataset_readers.dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.dataset_utils.html">allennlp.data.dataset_readers.dataset_utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.babi.html">allennlp.data.dataset_readers.babi</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.ccgbank.html">allennlp.data.dataset_readers.ccgbank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.conll2000.html">allennlp.data.dataset_readers.conll2000</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.conll2003.html">allennlp.data.dataset_readers.conll2003</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.coreference_resolution.html">allennlp.data.dataset_readers.coreference_resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.event2mind.html">allennlp.data.dataset_readers.event2mind</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.interleaving_dataset_reader.html">allennlp.data.dataset_readers.interleaving_dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.language_modeling.html">allennlp.data.dataset_readers.language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.masked_language_modeling.html">allennlp.data.dataset_readers.masked_language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.multiprocess_dataset_reader.html">allennlp.data.dataset_readers.multiprocess_dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.next_token_lm.html">allennlp.data.dataset_readers.next_token_lm</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.ontonotes_ner.html">allennlp.data.dataset_readers.ontonotes_ner</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.penn_tree_bank.html">allennlp.data.dataset_readers.penn_tree_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.quora_paraphrase.html">allennlp.data.dataset_readers.quora_paraphrase</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.reading_comprehension.html">allennlp.data.dataset_readers.reading_comprehension</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_dependency_parsing.html">allennlp.data.dataset_readers.semantic_dependency_parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_parsing.html">allennlp.data.dataset_readers.semantic_parsing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_parsing.wikitables.html">allennlp.data.dataset_readers.semantic_parsing.wikitables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_role_labeling.html">allennlp.data.dataset_readers.semantic_role_labeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.seq2seq.html">allennlp.data.dataset_readers.seq2seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.sequence_tagging.html">allennlp.data.dataset_readers.sequence_tagging</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.simple_language_modeling.html">allennlp.data.dataset_readers.simple_language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.snli.html">allennlp.data.dataset_readers.snli</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.stanford_sentiment_tree_bank.html">allennlp.data.dataset_readers.stanford_sentiment_tree_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.universal_dependencies.html">allennlp.data.dataset_readers.universal_dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.universal_dependencies_multilang.html">allennlp.data.dataset_readers.universal_dependencies_multilang</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.quora_paraphrase.html">allennlp.data.dataset_readers.quora_paraphrase</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.copynet_seq2seq.html">allennlp.data.dataset_readers.copynet_seq2seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.text_classification_json.html">allennlp.data.dataset_readers.text_classification_json</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.fields.html">allennlp.data.fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.instance.html">allennlp.data.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.iterators.html">allennlp.data.iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.token_indexers.html">allennlp.data.token_indexers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.tokenizers.html">allennlp.data.tokenizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.vocabulary.html">allennlp.data.vocabulary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.interpret.html">allennlp.interpret</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.interpret.attackers.html">allennlp.interpret.attackers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.interpret.saliency_interpreters.html">allennlp.interpret.saliency_interpreters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.models.html">allennlp.models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.model.html">allennlp.models.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.archival.html">allennlp.models.archival</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.basic_classifier.html">allennlp.models.basic_classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.bert_for_classification.html">allennlp.models.bert_for_classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biaffine_dependency_parser.html">allennlp.models.biaffine_dependency_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biaffine_dependency_parser_multilang.html">allennlp.models.biaffine_dependency_parser_multilang</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.biattentive_classification_network.html">allennlp.models.biattentive_classification_network</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.bimpm.html">allennlp.models.bimpm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.constituency_parser.html">allennlp.models.constituency_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.coreference_resolution.html">allennlp.models.coreference_resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.crf_tagger.html">allennlp.models.crf_tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.decomposable_attention.html">allennlp.models.decomposable_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.encoder_decoders.html">allennlp.models.encoder_decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.ensemble.html">allennlp.models.ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.esim.html">allennlp.models.esim</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.event2mind.html">allennlp.models.event2mind</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.graph_parser.html">allennlp.models.graph_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.language_model.html">allennlp.models.language_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.masked_language_model.html">allennlp.models.masked_language_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.next_token_lm.html">allennlp.models.next_token_lm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.reading_comprehension.html">allennlp.models.reading_comprehension</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.semantic_parsing.html">allennlp.models.semantic_parsing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.nlvr.html">allennlp.models.semantic_parsing.nlvr</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.wikitables.html">allennlp.models.semantic_parsing.wikitables</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.atis.html">allennlp.models.semantic_parsing.atis</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.models.semantic_parsing.quarel.html">allennlp.models.semantic_parsing.quarel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.semantic_role_labeler.html">allennlp.models.semantic_role_labeler</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.simple_tagger.html">allennlp.models.simple_tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.srl_bert.html">allennlp.models.srl_bert</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.srl_util.html">allennlp.models.srl_util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.predictors.html">allennlp.predictors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="allennlp.modules.html">allennlp.modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.attention.html">allennlp.modules.attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.matrix_attention.html">allennlp.modules.matrix_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.augmented_lstm.html">allennlp.modules.augmented_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.lstm_cell_with_projection.html">allennlp.modules.lstm_cell_with_projection</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.elmo.html">allennlp.modules.elmo</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.elmo_lstm.html">allennlp.modules.elmo_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.language_model_heads.html">allennlp.modules.language_model_heads</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.conditional_random_field.html">allennlp.modules.conditional_random_field</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.feedforward.html">allennlp.modules.feedforward</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.highway.html">allennlp.modules.highway</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.matrix_attention.html">allennlp.modules.matrix_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.openai_transformer.html">allennlp.modules.openai_transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2seq_encoders.html">allennlp.modules.seq2seq_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2seq_decoders.html">allennlp.modules.seq2seq_decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2vec_encoders.html">allennlp.modules.seq2vec_encoders</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">allennlp.modules.span_extractors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.similarity_functions.html">allennlp.modules.similarity_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.stacked_alternating_lstm.html">allennlp.modules.stacked_alternating_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.stacked_bidirectional_lstm.html">allennlp.modules.stacked_bidirectional_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.text_field_embedders.html">allennlp.modules.text_field_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.time_distributed.html">allennlp.modules.time_distributed</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.token_embedders.html">allennlp.modules.token_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.scalar_mix.html">allennlp.modules.scalar_mix</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.layer_norm.html">allennlp.modules.layer_norm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.pruner.html">allennlp.modules.pruner</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.maxout.html">allennlp.modules.maxout</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.input_variational_dropout.html">allennlp.modules.input_variational_dropout</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.bimpm_matching.html">allennlp.modules.bimpm_matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.masked_layer_norm.html">allennlp.modules.masked_layer_norm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.sampled_softmax_loss.html">allennlp.modules.sampled_softmax_loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.residual_with_layer_dropout.html">allennlp.modules.residual_with_layer_dropout</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.nn.html">allennlp.nn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.activations.html">allennlp.nn.activations</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.chu_liu_edmonds.html">allennlp.nn.chu_liu_edmonds</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.initializers.html">allennlp.nn.initializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.regularizers.html">allennlp.nn.regularizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.util.html">allennlp.nn.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.beam_search.html">allennlp.nn.beam_search</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.semparse.html">allennlp.semparse</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.common.html">allennlp.semparse.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.contexts.html">allennlp.semparse.contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.executors.html">allennlp.semparse.executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.type_declarations.html">allennlp.semparse.type_declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.worlds.html">allennlp.semparse.worlds</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.executors.html">allennlp.semparse.executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.domain_languages.html">allennlp.semparse.domain_languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.semparse.util.html">allennlp.semparse.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.service.html">allennlp.service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.server_simple.html">allennlp.service.server_simple</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.config_explorer.html">allennlp.service.config_explorer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.state_machines.html">allennlp.state_machines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.states.html">allennlp.state_machines.states</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.trainers.html">allennlp.state_machines.trainers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.state_machines.transition_functions.html">allennlp.state_machines.transition_functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.tools.html">allennlp.tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.training.html">allennlp.training</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.callbacks.html">allennlp.training.callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.callback_trainer.html">allennlp.training.callback_trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.checkpointer.html">allennlp.training.checkpointer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.scheduler.html">allennlp.training.scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.learning_rate_schedulers.html">allennlp.training.learning_rate_schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.momentum_schedulers.html">allennlp.training.momentum_schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.metric_tracker.html">allennlp.training.metric_tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.metrics.html">allennlp.training.metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.moving_average.html">allennlp.training.moving_average</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.no_op_trainer.html">allennlp.training.no_op_trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.optimizers.html">allennlp.training.optimizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.tensorboard_writer.html">allennlp.training.tensorboard_writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer.html">allennlp.training.trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer_base.html">allennlp.training.trainer_base</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer_pieces.html">allennlp.training.trainer_pieces</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.util.html">allennlp.training.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.pretrained.html">allennlp.pretrained</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AllenNLP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="allennlp.modules.html">allennlp.modules</a> &raquo;</li>
        
      <li>allennlp.modules.span_extractors</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/allennlp.modules.span_extractors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-allennlp.modules.span_extractors">
<span id="allennlp-modules-span-extractors"></span><h1>allennlp.modules.span_extractors<a class="headerlink" href="#module-allennlp.modules.span_extractors" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-allennlp.modules.span_extractors.span_extractor"></span><dl class="class">
<dt id="allennlp.modules.span_extractors.span_extractor.SpanExtractor">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.modules.span_extractors.span_extractor.</code><code class="sig-name descname">SpanExtractor</code><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/span_extractor.py#L7-L65"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.span_extractor.SpanExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code>, <a class="reference internal" href="allennlp.common.registrable.html#allennlp.common.registrable.Registrable" title="allennlp.common.registrable.Registrable"><code class="xref py py-class docutils literal notranslate"><span class="pre">allennlp.common.registrable.Registrable</span></code></a></p>
<p>Many NLP models deal with representations of spans inside a sentence.
SpanExtractors define methods for extracting and representing spans
from a sentence.</p>
<p>SpanExtractors take a sequence tensor of shape (batch_size, timesteps, embedding_dim)
and indices of shape (batch_size, num_spans, 2) and return a tensor of
shape (batch_size, num_spans, …), forming some representation of the
spans.</p>
<dl class="method">
<dt id="allennlp.modules.span_extractors.span_extractor.SpanExtractor.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">sequence_tensor: torch.FloatTensor</em>, <em class="sig-param">span_indices: torch.LongTensor</em>, <em class="sig-param">sequence_mask: torch.LongTensor = None</em>, <em class="sig-param">span_indices_mask: torch.LongTensor = None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/span_extractor.py#L18-L53"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.span_extractor.SpanExtractor.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a sequence tensor, extract spans and return representations of
them. Span representation can be computed in many different ways,
such as concatenation of the start and end spans, attention over the
vectors contained inside the span, etc.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>sequence_tensor</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.FloatTensor</span></code>, required.</span></dt><dd><p>A tensor of shape (batch_size, sequence_length, embedding_size)
representing an embedded sequence of words.</p>
</dd>
<dt><strong>span_indices</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, required.</span></dt><dd><p>A tensor of shape <code class="docutils literal notranslate"><span class="pre">(batch_size,</span> <span class="pre">num_spans,</span> <span class="pre">2)</span></code>, where the last
dimension represents the inclusive start and end indices of the
span to be extracted from the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd>
<dt><strong>sequence_mask</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">None</span></code>).</span></dt><dd><p>A tensor of shape (batch_size, sequence_length) representing padded
elements of the sequence.</p>
</dd>
<dt><strong>span_indices_mask</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">None</span></code>).</span></dt><dd><p>A tensor of shape (batch_size, num_spans) representing the valid
spans in the <code class="docutils literal notranslate"><span class="pre">indices</span></code> tensor. This mask is optional because
sometimes it’s easier to worry about masking after calling this
function, rather than passing a mask directly.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>A tensor of shape <code class="docutils literal notranslate"><span class="pre">(batch_size,</span> <span class="pre">num_spans,</span> <span class="pre">embedded_span_size)</span></code>,</dt><dd></dd>
<dt>where <code class="docutils literal notranslate"><span class="pre">embedded_span_size</span></code> depends on the way spans are represented.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="allennlp.modules.span_extractors.span_extractor.SpanExtractor.get_input_dim">
<code class="sig-name descname">get_input_dim</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/span_extractor.py#L55-L59"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.span_extractor.SpanExtractor.get_input_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the expected final dimension of the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.modules.span_extractors.span_extractor.SpanExtractor.get_output_dim">
<code class="sig-name descname">get_output_dim</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/span_extractor.py#L61-L65"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.span_extractor.SpanExtractor.get_output_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the expected final dimension of the returned span representation.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.modules.span_extractors.endpoint_span_extractor"></span><dl class="class">
<dt id="allennlp.modules.span_extractors.endpoint_span_extractor.EndpointSpanExtractor">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.modules.span_extractors.endpoint_span_extractor.</code><code class="sig-name descname">EndpointSpanExtractor</code><span class="sig-paren">(</span><em class="sig-param">input_dim: int</em>, <em class="sig-param">combination: str = 'x</em>, <em class="sig-param">y'</em>, <em class="sig-param">num_width_embeddings: int = None</em>, <em class="sig-param">span_width_embedding_dim: int = None</em>, <em class="sig-param">bucket_widths: bool = False</em>, <em class="sig-param">use_exclusive_start_indices: bool = False</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/endpoint_span_extractor.py#L14-L146"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.endpoint_span_extractor.EndpointSpanExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.modules.span_extractors.span_extractor.SpanExtractor" title="allennlp.modules.span_extractors.span_extractor.SpanExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">allennlp.modules.span_extractors.span_extractor.SpanExtractor</span></code></a></p>
<p>Represents spans as a combination of the embeddings of their endpoints. Additionally,
the width of the spans can be embedded and concatenated on to the final combination.</p>
<p>The following types of representation are supported, assuming that
<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">span_start_embeddings</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">span_end_embeddings</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">x*y</span></code>, <code class="docutils literal notranslate"><span class="pre">x+y</span></code>, <code class="docutils literal notranslate"><span class="pre">x-y</span></code>, <code class="docutils literal notranslate"><span class="pre">x/y</span></code>, where each of those binary operations
is performed elementwise.  You can list as many combinations as you want, comma separated.
For example, you might give <code class="docutils literal notranslate"><span class="pre">x,y,x*y</span></code> as the <code class="docutils literal notranslate"><span class="pre">combination</span></code> parameter to this class.
The computed similarity function would then be <code class="docutils literal notranslate"><span class="pre">[x;</span> <span class="pre">y;</span> <span class="pre">x*y]</span></code>, which can then be optionally
concatenated with an embedded representation of the width of the span.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>input_dim</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, required.</span></dt><dd><p>The final dimension of the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd>
<dt><strong>combination</strong><span class="classifier">str, optional (default = “x,y”).</span></dt><dd><p>The method used to combine the <code class="docutils literal notranslate"><span class="pre">start_embedding</span></code> and <code class="docutils literal notranslate"><span class="pre">end_embedding</span></code>
representations. See above for a full description.</p>
</dd>
<dt><strong>num_width_embeddings</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional (default = None).</span></dt><dd><p>Specifies the number of buckets to use when representing
span width features.</p>
</dd>
<dt><strong>span_width_embedding_dim</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional (default = None).</span></dt><dd><p>The embedding size for the span_width features.</p>
</dd>
<dt><strong>bucket_widths</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, optional (default = False).</span></dt><dd><p>Whether to bucket the span widths into log-space buckets. If <code class="docutils literal notranslate"><span class="pre">False</span></code>,
the raw span widths are used.</p>
</dd>
<dt><strong>use_exclusive_start_indices</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">False</span></code>).</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the start indices extracted are converted to exclusive indices. Sentinels
are used to represent exclusive span indices for the elements in the first
position in the sequence (as the exclusive indices for these elements are outside
of the the sequence boundary) so that start indices can be exclusive.
NOTE: This option can be helpful to avoid the pathological case in which you
want span differences for length 1 spans - if you use inclusive indices, you
will end up with an <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">x</span></code> operation for length 1 spans, which is not good.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="allennlp.modules.span_extractors.endpoint_span_extractor.EndpointSpanExtractor.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">sequence_tensor: torch.FloatTensor</em>, <em class="sig-param">span_indices: torch.LongTensor</em>, <em class="sig-param">sequence_mask: torch.LongTensor = None</em>, <em class="sig-param">span_indices_mask: torch.LongTensor = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/endpoint_span_extractor.py#L86-L146"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.endpoint_span_extractor.EndpointSpanExtractor.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a sequence tensor, extract spans and return representations of
them. Span representation can be computed in many different ways,
such as concatenation of the start and end spans, attention over the
vectors contained inside the span, etc.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>sequence_tensor</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.FloatTensor</span></code>, required.</span></dt><dd><p>A tensor of shape (batch_size, sequence_length, embedding_size)
representing an embedded sequence of words.</p>
</dd>
<dt><strong>span_indices</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, required.</span></dt><dd><p>A tensor of shape <code class="docutils literal notranslate"><span class="pre">(batch_size,</span> <span class="pre">num_spans,</span> <span class="pre">2)</span></code>, where the last
dimension represents the inclusive start and end indices of the
span to be extracted from the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd>
<dt><strong>sequence_mask</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">None</span></code>).</span></dt><dd><p>A tensor of shape (batch_size, sequence_length) representing padded
elements of the sequence.</p>
</dd>
<dt><strong>span_indices_mask</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">None</span></code>).</span></dt><dd><p>A tensor of shape (batch_size, num_spans) representing the valid
spans in the <code class="docutils literal notranslate"><span class="pre">indices</span></code> tensor. This mask is optional because
sometimes it’s easier to worry about masking after calling this
function, rather than passing a mask directly.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>A tensor of shape <code class="docutils literal notranslate"><span class="pre">(batch_size,</span> <span class="pre">num_spans,</span> <span class="pre">embedded_span_size)</span></code>,</dt><dd></dd>
<dt>where <code class="docutils literal notranslate"><span class="pre">embedded_span_size</span></code> depends on the way spans are represented.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="allennlp.modules.span_extractors.endpoint_span_extractor.EndpointSpanExtractor.get_input_dim">
<code class="sig-name descname">get_input_dim</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/endpoint_span_extractor.py#L77-L78"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.endpoint_span_extractor.EndpointSpanExtractor.get_input_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the expected final dimension of the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.modules.span_extractors.endpoint_span_extractor.EndpointSpanExtractor.get_output_dim">
<code class="sig-name descname">get_output_dim</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/endpoint_span_extractor.py#L80-L84"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.endpoint_span_extractor.EndpointSpanExtractor.get_output_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the expected final dimension of the returned span representation.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.modules.span_extractors.self_attentive_span_extractor"></span><dl class="class">
<dt id="allennlp.modules.span_extractors.self_attentive_span_extractor.SelfAttentiveSpanExtractor">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.modules.span_extractors.self_attentive_span_extractor.</code><code class="sig-name descname">SelfAttentiveSpanExtractor</code><span class="sig-paren">(</span><em class="sig-param">input_dim: int</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/self_attentive_span_extractor.py#L9-L110"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.self_attentive_span_extractor.SelfAttentiveSpanExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.modules.span_extractors.span_extractor.SpanExtractor" title="allennlp.modules.span_extractors.span_extractor.SpanExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">allennlp.modules.span_extractors.span_extractor.SpanExtractor</span></code></a></p>
<p>Computes span representations by generating an unnormalized attention score for each
word in the document. Spans representations are computed with respect to these
scores by normalising the attention scores for words inside the span.</p>
<p>Given these attention distributions over every span, this module weights the
corresponding vector representations of the words in the span by this distribution,
returning a weighted representation of each span.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>input_dim</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, required.</span></dt><dd><p>The final dimension of the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>attended_text_embeddings</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.FloatTensor</span></code>.</span></dt><dd><p>A tensor of shape (batch_size, num_spans, input_dim), which each span representation
is formed by locally normalising a global attention over the sequence. The only way
in which the attention distribution differs over different spans is in the set of words
over which they are normalized.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="allennlp.modules.span_extractors.self_attentive_span_extractor.SelfAttentiveSpanExtractor.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">sequence_tensor: torch.FloatTensor</em>, <em class="sig-param">span_indices: torch.LongTensor</em>, <em class="sig-param">sequence_mask: torch.LongTensor = None</em>, <em class="sig-param">span_indices_mask: torch.LongTensor = None</em><span class="sig-paren">)</span> &#x2192; torch.FloatTensor<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/self_attentive_span_extractor.py#L44-L110"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.self_attentive_span_extractor.SelfAttentiveSpanExtractor.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a sequence tensor, extract spans and return representations of
them. Span representation can be computed in many different ways,
such as concatenation of the start and end spans, attention over the
vectors contained inside the span, etc.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>sequence_tensor</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.FloatTensor</span></code>, required.</span></dt><dd><p>A tensor of shape (batch_size, sequence_length, embedding_size)
representing an embedded sequence of words.</p>
</dd>
<dt><strong>span_indices</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, required.</span></dt><dd><p>A tensor of shape <code class="docutils literal notranslate"><span class="pre">(batch_size,</span> <span class="pre">num_spans,</span> <span class="pre">2)</span></code>, where the last
dimension represents the inclusive start and end indices of the
span to be extracted from the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd>
<dt><strong>sequence_mask</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">None</span></code>).</span></dt><dd><p>A tensor of shape (batch_size, sequence_length) representing padded
elements of the sequence.</p>
</dd>
<dt><strong>span_indices_mask</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">None</span></code>).</span></dt><dd><p>A tensor of shape (batch_size, num_spans) representing the valid
spans in the <code class="docutils literal notranslate"><span class="pre">indices</span></code> tensor. This mask is optional because
sometimes it’s easier to worry about masking after calling this
function, rather than passing a mask directly.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>A tensor of shape <code class="docutils literal notranslate"><span class="pre">(batch_size,</span> <span class="pre">num_spans,</span> <span class="pre">embedded_span_size)</span></code>,</dt><dd></dd>
<dt>where <code class="docutils literal notranslate"><span class="pre">embedded_span_size</span></code> depends on the way spans are represented.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="allennlp.modules.span_extractors.self_attentive_span_extractor.SelfAttentiveSpanExtractor.get_input_dim">
<code class="sig-name descname">get_input_dim</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/self_attentive_span_extractor.py#L38-L39"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.self_attentive_span_extractor.SelfAttentiveSpanExtractor.get_input_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the expected final dimension of the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.modules.span_extractors.self_attentive_span_extractor.SelfAttentiveSpanExtractor.get_output_dim">
<code class="sig-name descname">get_output_dim</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/self_attentive_span_extractor.py#L41-L42"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.self_attentive_span_extractor.SelfAttentiveSpanExtractor.get_output_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the expected final dimension of the returned span representation.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor"></span><dl class="class">
<dt id="allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.BidirectionalEndpointSpanExtractor">
<em class="property">class </em><code class="sig-prename descclassname">allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.</code><code class="sig-name descname">BidirectionalEndpointSpanExtractor</code><span class="sig-paren">(</span><em class="sig-param">input_dim: int</em>, <em class="sig-param">forward_combination: str = 'y-x'</em>, <em class="sig-param">backward_combination: str = 'x-y'</em>, <em class="sig-param">num_width_embeddings: int = None</em>, <em class="sig-param">span_width_embedding_dim: int = None</em>, <em class="sig-param">bucket_widths: bool = False</em>, <em class="sig-param">use_sentinels: bool = True</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/bidirectional_endpoint_span_extractor.py#L13-L220"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.BidirectionalEndpointSpanExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.modules.span_extractors.span_extractor.SpanExtractor" title="allennlp.modules.span_extractors.span_extractor.SpanExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">allennlp.modules.span_extractors.span_extractor.SpanExtractor</span></code></a></p>
<p>Represents spans from a bidirectional encoder as a concatenation of two different
representations of the span endpoints, one for the forward direction of the encoder
and one from the backward direction. This type of representation encodes some subtlety,
because when you consider the forward and backward directions separately, the end index
of the span for the backward direction’s representation is actually the start index.</p>
<p>By default, this <code class="docutils literal notranslate"><span class="pre">SpanExtractor</span></code> represents spans as
<code class="docutils literal notranslate"><span class="pre">sequence_tensor[inclusive_span_end]</span> <span class="pre">-</span> <span class="pre">sequence_tensor[exclusive_span_start]</span></code>
meaning that the representation is the difference between the the last word in the span
and the word <cite>before</cite> the span started. Note that the start and end indices are with
respect to the direction that the RNN is going in, so for the backward direction, the
start/end indices are reversed.</p>
<p>Additionally, the width of the spans can be embedded and concatenated on to the
final combination.</p>
<p>The following other types of representation are supported for both the forward and backward
directions, assuming that <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">span_start_embeddings</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">span_end_embeddings</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">x*y</span></code>, <code class="docutils literal notranslate"><span class="pre">x+y</span></code>, <code class="docutils literal notranslate"><span class="pre">x-y</span></code>, <code class="docutils literal notranslate"><span class="pre">x/y</span></code>, where each of those binary operations
is performed elementwise.  You can list as many combinations as you want, comma separated.
For example, you might give <code class="docutils literal notranslate"><span class="pre">x,y,x*y</span></code> as the <code class="docutils literal notranslate"><span class="pre">combination</span></code> parameter to this class.
The computed similarity function would then be <code class="docutils literal notranslate"><span class="pre">[x;</span> <span class="pre">y;</span> <span class="pre">x*y]</span></code>, which can then be optionally
concatenated with an embedded representation of the width of the span.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>input_dim</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, required.</span></dt><dd><p>The final dimension of the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd>
<dt><strong>forward_combination</strong><span class="classifier">str, optional (default = “y-x”).</span></dt><dd><p>The method used to combine the <code class="docutils literal notranslate"><span class="pre">forward_start_embeddings</span></code> and <code class="docutils literal notranslate"><span class="pre">forward_end_embeddings</span></code>
for the forward direction of the bidirectional representation.
See above for a full description.</p>
</dd>
<dt><strong>backward_combination</strong><span class="classifier">str, optional (default = “x-y”).</span></dt><dd><p>The method used to combine the <code class="docutils literal notranslate"><span class="pre">backward_start_embeddings</span></code> and <code class="docutils literal notranslate"><span class="pre">backward_end_embeddings</span></code>
for the backward direction of the bidirectional representation.
See above for a full description.</p>
</dd>
<dt><strong>num_width_embeddings</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional (default = None).</span></dt><dd><p>Specifies the number of buckets to use when representing
span width features.</p>
</dd>
<dt><strong>span_width_embedding_dim</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional (default = None).</span></dt><dd><p>The embedding size for the span_width features.</p>
</dd>
<dt><strong>bucket_widths</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, optional (default = False).</span></dt><dd><p>Whether to bucket the span widths into log-space buckets. If <code class="docutils literal notranslate"><span class="pre">False</span></code>,
the raw span widths are used.</p>
</dd>
<dt><strong>use_sentinels</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">True</span></code>).</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, sentinels are used to represent exclusive span indices for the elements
in the first and last positions in the sequence (as the exclusive indices for these
elements are outside of the the sequence boundary). This is not strictly necessary,
as you may know that your exclusive start and end indices are always within your sequence
representation, such as if you have appended/prepended &lt;START&gt; and &lt;END&gt; tokens to your
sequence.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.BidirectionalEndpointSpanExtractor.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">sequence_tensor: torch.FloatTensor</em>, <em class="sig-param">span_indices: torch.LongTensor</em>, <em class="sig-param">sequence_mask: torch.LongTensor = None</em>, <em class="sig-param">span_indices_mask: torch.LongTensor = None</em><span class="sig-paren">)</span> &#x2192; torch.FloatTensor<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/bidirectional_endpoint_span_extractor.py#L114-L220"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.BidirectionalEndpointSpanExtractor.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a sequence tensor, extract spans and return representations of
them. Span representation can be computed in many different ways,
such as concatenation of the start and end spans, attention over the
vectors contained inside the span, etc.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>sequence_tensor</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.FloatTensor</span></code>, required.</span></dt><dd><p>A tensor of shape (batch_size, sequence_length, embedding_size)
representing an embedded sequence of words.</p>
</dd>
<dt><strong>span_indices</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, required.</span></dt><dd><p>A tensor of shape <code class="docutils literal notranslate"><span class="pre">(batch_size,</span> <span class="pre">num_spans,</span> <span class="pre">2)</span></code>, where the last
dimension represents the inclusive start and end indices of the
span to be extracted from the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd>
<dt><strong>sequence_mask</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">None</span></code>).</span></dt><dd><p>A tensor of shape (batch_size, sequence_length) representing padded
elements of the sequence.</p>
</dd>
<dt><strong>span_indices_mask</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">torch.LongTensor</span></code>, optional (default = <code class="docutils literal notranslate"><span class="pre">None</span></code>).</span></dt><dd><p>A tensor of shape (batch_size, num_spans) representing the valid
spans in the <code class="docutils literal notranslate"><span class="pre">indices</span></code> tensor. This mask is optional because
sometimes it’s easier to worry about masking after calling this
function, rather than passing a mask directly.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>A tensor of shape <code class="docutils literal notranslate"><span class="pre">(batch_size,</span> <span class="pre">num_spans,</span> <span class="pre">embedded_span_size)</span></code>,</dt><dd></dd>
<dt>where <code class="docutils literal notranslate"><span class="pre">embedded_span_size</span></code> depends on the way spans are represented.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.BidirectionalEndpointSpanExtractor.get_input_dim">
<code class="sig-name descname">get_input_dim</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/bidirectional_endpoint_span_extractor.py#L100-L101"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.BidirectionalEndpointSpanExtractor.get_input_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the expected final dimension of the <code class="docutils literal notranslate"><span class="pre">sequence_tensor</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.BidirectionalEndpointSpanExtractor.get_output_dim">
<code class="sig-name descname">get_output_dim</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="https://github.com/allenai/allennlp/blob/master/allennlp/modules/span_extractors/bidirectional_endpoint_span_extractor.py#L103-L112"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.modules.span_extractors.bidirectional_endpoint_span_extractor.BidirectionalEndpointSpanExtractor.get_output_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the expected final dimension of the returned span representation.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="allennlp.modules.similarity_functions.html" class="btn btn-neutral float-right" title="allennlp.modules.similarity_functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="allennlp.modules.seq2vec_encoders.html" class="btn btn-neutral float-left" title="allennlp.modules.seq2vec_encoders" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Allen Institute for Artificial Intelligence

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>